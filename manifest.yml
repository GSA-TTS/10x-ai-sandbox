---
applications:
  - name: gsa-ai-sandbox
    buildpacks:
      - python_buildpack
      - nodejs_buildpack
    stack: cflinuxfs4
    instances: ((web_instances))
    memory: ((web_memory))
    disk_quota: 7G
    routes:
      - route: gsa-ai-sandbox.app.cloud.gov
    env:
      WEBUI_SECRET_KEY: ((WEBUI_SECRET_KEY))
      OLLAMA_BASE_URL: ((OLLAMA_BASE_URL))
      WEBUI_NAME: ((WEBUI_NAME))
      SCARF_NO_ANALYTICS: ((SCARF_NO_ANALYTICS))
      DO_NOT_TRACK: ((DO_NOT_TRACK))
      ANONYMIZED_TELEMETRY: ((ANONYMIZED_TELEMETRY))
      GITHUBLOCAL_CLIENT_ID: ((GITHUBLOCAL_CLIENT_ID))
      GITHUBLOCAL_CLIENT_SECRET: ((GITHUBLOCAL_CLIENT_SECRET))
      AWS_ACCESS_KEY_ID: ((AWS_ACCESS_KEY_ID))
      AWS_SECRET_ACCESS_KEY: ((AWS_SECRET_ACCESS_KEY))
      AWS_DEFAULT_REGION: ((AWS_DEFAULT_REGION))
      AZURE_OPENAI_API_KEY: ((AZURE_OPENAI_API_KEY))
      AZURE_OPENAI_ENDPOINT: ((AZURE_OPENAI_ENDPOINT))
      AZURE_OPENAI_GPT35TURBO_DEPLOYMENT_NAME: ((AZURE_OPENAI_GPT35TURBO_DEPLOYMENT_NAME))
      AZURE_OPENAI_GPT4OMNI_DEPLOYMENT_NAME: ((AZURE_OPENAI_GPT4OMNI_DEPLOYMENT_NAME))
      DEV_ADMIN_EMAILS: ((DEV_ADMIN_EMAILS))
      DEV_USER_EMAILS: ((DEV_USER_EMAILS))
      RAG_OPENAI_API_BASE_URL: ((RAG_OPENAI_API_BASE_URL))
      RAG_OPENAI_API_KEY: ((RAG_OPENAI_API_KEY))
      RAG_EMBEDDING_ENGINE: ((RAG_EMBEDDING_ENGINE))
    command: ./backend/start.sh