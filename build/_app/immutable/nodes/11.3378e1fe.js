import{s as tn,u as Ge,v as Ue,h as M,d as g,j as c,i as x,w as E,r as Zt,p as yn,X as qn,Q as Jn,A as ht,f as I,g as T,F as bo,G as wo,H as Eo,I as yo,a as F,c as L,l as Te,m as $e,n as Ae,N as Do,S as Dt,R as An,y as mt,L as So,z as ko,o as Co,e as Nn,t as Io,T as Hn}from"../chunks/scheduler.2ec89978.js";import{S as nn,i as on,f as Kn,b as ve,d as _e,m as be,a as q,t as te,e as we,g as Qn,c as eo}from"../chunks/index.276f3600.js";import{g as To}from"../chunks/globals.7f7f1b26.js";import{e as Pn}from"../chunks/each.de3f9353.js";import{a as wt}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import{f as $o}from"../chunks/FileSaver.min.898eb36f.js";import{m as Mo,u as Oo,h as Et,W as xo}from"../chunks/index.3b6ce8f7.js";import{d as Ao,u as ln,a as No}from"../chunks/index.cce12198.js";import"../chunks/sha256.65a6c54a.js";import{g as Ho}from"../chunks/navigation.adafcd4a.js";import{b as Lt}from"../chunks/index.6e6a3a3f.js";import"../chunks/updater.c075227d.js";import{D as Po,M as yt}from"../chunks/Dropdown.9f1b9537.js";import{M as Bo}from"../chunks/menu-trigger.1d870800.js";import{f as Fo}from"../chunks/index.e8e699b3.js";import{S as Lo,D as Ro,G as Vo}from"../chunks/DocumentDuplicate.75538e78.js";import{T as jo}from"../chunks/Tooltip.3c52e2f2.js";import{A as Yo}from"../chunks/ArrowDownTray.dcc6ab67.js";import{C as Xo}from"../chunks/ConfirmDialog.6db21df3.js";/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Bn(o,e){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),n.push.apply(n,t)}return n}function We(o){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(n),!0).forEach(function(t){Wo(o,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(n,t))})}return o}function Xt(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xt=function(e){return typeof e}:Xt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(o)}function Wo(o,e,n){return e in o?Object.defineProperty(o,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[e]=n,o}function qe(){return qe=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t])}return o},qe.apply(this,arguments)}function zo(o,e){if(o==null)return{};var n={},t=Object.keys(o),r,i;for(i=0;i<t.length;i++)r=t[i],!(e.indexOf(r)>=0)&&(n[r]=o[r]);return n}function Go(o,e){if(o==null)return{};var n=zo(o,e),t,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(r=0;r<i.length;r++)t=i[r],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(o,t)&&(n[t]=o[t])}return n}var Uo="1.15.3";function Ze(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var Je=Ze(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xt=Ze(/Edge/i),Fn=Ze(/firefox/i),It=Ze(/safari/i)&&!Ze(/chrome/i)&&!Ze(/android/i),to=Ze(/iP(ad|od|hone)/i),no=Ze(/chrome/i)&&Ze(/android/i),oo={capture:!1,passive:!1};function V(o,e,n){o.addEventListener(e,n,!Je&&oo)}function P(o,e,n){o.removeEventListener(e,n,!Je&&oo)}function qt(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function ro(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function Ve(o,e,n,t){if(o){n=n||document;do{if(e!=null&&(e[0]===">"?o.parentNode===n&&qt(o,e):qt(o,e))||t&&o===n)return o;if(o===n)break}while(o=ro(o))}return null}var Ln=/\s+/g;function Oe(o,e,n){if(o&&e)if(o.classList)o.classList[n?"add":"remove"](e);else{var t=(" "+o.className+" ").replace(Ln," ").replace(" "+e+" "," ");o.className=(t+(n?" "+e:"")).replace(Ln," ")}}function S(o,e,n){var t=o&&o.style;if(t){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(n=o.currentStyle),e===void 0?n:n[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=n+(typeof n=="string"?"":"px")}}function vt(o,e){var n="";if(typeof o=="string")n=o;else do{var t=S(o,"transform");t&&t!=="none"&&(n=t+" "+n)}while(!e&&(o=o.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function io(o,e,n){if(o){var t=o.getElementsByTagName(e),r=0,i=t.length;if(n)for(;r<i;r++)n(t[r],r);return t}return[]}function Xe(){var o=document.scrollingElement;return o||document.documentElement}function re(o,e,n,t,r){if(!(!o.getBoundingClientRect&&o!==window)){var i,l,a,s,u,h,f;if(o!==window&&o.parentNode&&o!==Xe()?(i=o.getBoundingClientRect(),l=i.top,a=i.left,s=i.bottom,u=i.right,h=i.height,f=i.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||n)&&o!==window&&(r=r||o.parentNode,!Je))do if(r&&r.getBoundingClientRect&&(S(r,"transform")!=="none"||n&&S(r,"position")!=="static")){var v=r.getBoundingClientRect();l-=v.top+parseInt(S(r,"border-top-width")),a-=v.left+parseInt(S(r,"border-left-width")),s=l+i.height,u=a+i.width;break}while(r=r.parentNode);if(t&&o!==window){var d=vt(r||o),m=d&&d.a,w=d&&d.d;d&&(l/=w,a/=m,f/=m,h/=w,s=l+h,u=a+f)}return{top:l,left:a,bottom:s,right:u,width:f,height:h}}}function Rn(o,e,n){for(var t=et(o,!0),r=re(o)[e];t;){var i=re(t)[n],l=void 0;if(n==="top"||n==="left"?l=r>=i:l=r<=i,!l)return t;if(t===Xe())break;t=et(t,!1)}return!1}function _t(o,e,n,t){for(var r=0,i=0,l=o.children;i<l.length;){if(l[i].style.display!=="none"&&l[i]!==k.ghost&&(t||l[i]!==k.dragged)&&Ve(l[i],n.draggable,o,!1)){if(r===e)return l[i];r++}i++}return null}function Dn(o,e){for(var n=o.lastElementChild;n&&(n===k.ghost||S(n,"display")==="none"||e&&!qt(n,e));)n=n.previousElementSibling;return n||null}function Be(o,e){var n=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==k.clone&&(!e||qt(o,e))&&n++;return n}function Vn(o){var e=0,n=0,t=Xe();if(o)do{var r=vt(o),i=r.a,l=r.d;e+=o.scrollLeft*i,n+=o.scrollTop*l}while(o!==t&&(o=o.parentNode));return[e,n]}function Zo(o,e){for(var n in o)if(o.hasOwnProperty(n)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===o[n][t])return Number(n)}return-1}function et(o,e){if(!o||!o.getBoundingClientRect)return Xe();var n=o,t=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=S(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Xe();if(t||e)return n;t=!0}}while(n=n.parentNode);return Xe()}function qo(o,e){if(o&&e)for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}function sn(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var Tt;function ao(o,e){return function(){if(!Tt){var n=arguments,t=this;n.length===1?o.call(t,n[0]):o.apply(t,n),Tt=setTimeout(function(){Tt=void 0},e)}}}function Jo(){clearTimeout(Tt),Tt=void 0}function lo(o,e,n){o.scrollLeft+=e,o.scrollTop+=n}function so(o){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):n?n(o).clone(!0)[0]:o.cloneNode(!0)}function uo(o,e,n){var t={};return Array.from(o.children).forEach(function(r){var i,l,a,s;if(!(!Ve(r,e.draggable,o,!1)||r.animated||r===n)){var u=re(r);t.left=Math.min((i=t.left)!==null&&i!==void 0?i:1/0,u.left),t.top=Math.min((l=t.top)!==null&&l!==void 0?l:1/0,u.top),t.right=Math.max((a=t.right)!==null&&a!==void 0?a:-1/0,u.right),t.bottom=Math.max((s=t.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}var Me="Sortable"+new Date().getTime();function Ko(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(r){if(!(S(r,"display")==="none"||r===k.ghost)){o.push({target:r,rect:re(r)});var i=We({},o[o.length-1].rect);if(r.thisAnimationDuration){var l=vt(r,!0);l&&(i.top-=l.f,i.left-=l.e)}r.fromRect=i}})}},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(Zo(o,{target:t}),1)},animateAll:function(t){var r=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,l=0;o.forEach(function(a){var s=0,u=a.target,h=u.fromRect,f=re(u),v=u.prevFromRect,d=u.prevToRect,m=a.rect,w=vt(u,!0);w&&(f.top-=w.f,f.left-=w.e),u.toRect=f,u.thisAnimationDuration&&sn(v,f)&&!sn(h,f)&&(m.top-f.top)/(m.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(s=er(m,v,d,r.options)),sn(f,h)||(u.prevFromRect=h,u.prevToRect=f,s||(s=r.options.animation),r.animate(u,m,f,s)),s&&(i=!0,l=Math.max(l,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},l):typeof t=="function"&&t(),o=[]},animate:function(t,r,i,l){if(l){S(t,"transition",""),S(t,"transform","");var a=vt(this.el),s=a&&a.a,u=a&&a.d,h=(r.left-i.left)/(s||1),f=(r.top-i.top)/(u||1);t.animatingX=!!h,t.animatingY=!!f,S(t,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=Qo(t),S(t,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),S(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){S(t,"transition",""),S(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},l)}}}}function Qo(o){return o.offsetWidth}function er(o,e,n,t){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*t.animation}var dt=[],un={initializeByDefault:!0},At={mount:function(e){for(var n in un)un.hasOwnProperty(n)&&!(n in e)&&(e[n]=un[n]);dt.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),dt.push(e)},pluginEvent:function(e,n,t){var r=this;this.eventCanceled=!1,t.cancel=function(){r.eventCanceled=!0};var i=e+"Global";dt.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][i]&&n[l.pluginName][i](We({sortable:n},t)),n.options[l.pluginName]&&n[l.pluginName][e]&&n[l.pluginName][e](We({sortable:n},t)))})},initializePlugins:function(e,n,t,r){dt.forEach(function(a){var s=a.pluginName;if(!(!e.options[s]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[s]=u,qe(t,u.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var l=this.modifyOption(e,i,e.options[i]);typeof l<"u"&&(e.options[i]=l)}},getEventProperties:function(e,n){var t={};return dt.forEach(function(r){typeof r.eventProperties=="function"&&qe(t,r.eventProperties.call(n[r.pluginName],e))}),t},modifyOption:function(e,n,t){var r;return dt.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(r=i.optionListeners[n].call(e[i.pluginName],t))}),r}};function tr(o){var e=o.sortable,n=o.rootEl,t=o.name,r=o.targetEl,i=o.cloneEl,l=o.toEl,a=o.fromEl,s=o.oldIndex,u=o.newIndex,h=o.oldDraggableIndex,f=o.newDraggableIndex,v=o.originalEvent,d=o.putSortable,m=o.extraEventProperties;if(e=e||n&&n[Me],!!e){var w,B=e.options,W="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!Je&&!xt?w=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(t,!0,!0)),w.to=l||n,w.from=a||n,w.item=r||n,w.clone=i,w.oldIndex=s,w.newIndex=u,w.oldDraggableIndex=h,w.newDraggableIndex=f,w.originalEvent=v,w.pullMode=d?d.lastPutMode:void 0;var H=We(We({},m),At.getEventProperties(t,e));for(var X in H)w[X]=H[X];n&&n.dispatchEvent(w),B[W]&&B[W].call(e,w)}}var nr=["evt"],Ie=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.evt,i=Go(t,nr);At.pluginEvent.bind(k)(e,n,We({dragEl:p,parentEl:Q,ghostEl:C,rootEl:U,nextEl:at,lastDownEl:Wt,cloneEl:Z,cloneHidden:Qe,dragStarted:St,putSortable:de,activeSortable:k.active,originalEvent:r,oldIndex:gt,oldDraggableIndex:$t,newIndex:xe,newDraggableIndex:Ke,hideGhostForTarget:mo,unhideGhostForTarget:po,cloneNowHidden:function(){Qe=!0},cloneNowShown:function(){Qe=!1},dispatchSortableEvent:function(a){Se({sortable:n,name:a,originalEvent:r})}},i))};function Se(o){tr(We({putSortable:de,cloneEl:Z,targetEl:p,rootEl:U,oldIndex:gt,oldDraggableIndex:$t,newIndex:xe,newDraggableIndex:Ke},o))}var p,Q,C,U,at,Wt,Z,Qe,gt,xe,$t,Ke,Rt,de,pt=!1,Jt=!1,Kt=[],rt,Re,fn,dn,jn,Yn,St,ct,Mt,Ot=!1,Vt=!1,zt,ge,cn=[],_n=!1,Qt=[],rn=typeof document<"u",jt=to,Xn=xt||Je?"cssFloat":"float",or=rn&&!no&&!to&&"draggable"in document.createElement("div"),fo=function(){if(rn){if(Je)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),co=function(e,n){var t=S(e),r=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=_t(e,0,n),l=_t(e,1,n),a=i&&S(i),s=l&&S(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+re(i).width,h=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+re(l).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&t[Xn]==="none"||l&&t[Xn]==="none"&&u+h>r)?"vertical":"horizontal"},rr=function(e,n,t){var r=t?e.left:e.top,i=t?e.right:e.bottom,l=t?e.width:e.height,a=t?n.left:n.top,s=t?n.right:n.bottom,u=t?n.width:n.height;return r===a||i===s||r+l/2===a+u/2},ir=function(e,n){var t;return Kt.some(function(r){var i=r[Me].options.emptyInsertThreshold;if(!(!i||Dn(r))){var l=re(r),a=e>=l.left-i&&e<=l.right+i,s=n>=l.top-i&&n<=l.bottom+i;if(a&&s)return t=r}}),t},ho=function(e){function n(i,l){return function(a,s,u,h){var f=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(i==null&&(l||f))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return n(i(a,s,u,h),l)(a,s,u,h);var v=(l?a:s).options.group.name;return i===!0||typeof i=="string"&&i===v||i.join&&i.indexOf(v)>-1}}var t={},r=e.group;(!r||Xt(r)!="object")&&(r={name:r}),t.name=r.name,t.checkPull=n(r.pull,!0),t.checkPut=n(r.put),t.revertClone=r.revertClone,e.group=t},mo=function(){!fo&&C&&S(C,"display","none")},po=function(){!fo&&C&&S(C,"display","")};rn&&!no&&document.addEventListener("click",function(o){if(Jt)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),Jt=!1,!1},!0);var it=function(e){if(p){e=e.touches?e.touches[0]:e;var n=ir(e.clientX,e.clientY);if(n){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.target=t.rootEl=n,t.preventDefault=void 0,t.stopPropagation=void 0,n[Me]._onDragOver(t)}}},ar=function(e){p&&p.parentNode[Me]._isOutsideThisEl(e.target)};function k(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=qe({},e),o[Me]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return co(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:k.supportPointer!==!1&&"PointerEvent"in window&&!It,emptyInsertThreshold:5};At.initializePlugins(this,o,n);for(var t in n)!(t in e)&&(e[t]=n[t]);ho(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:or,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?V(o,"pointerdown",this._onTapStart):(V(o,"mousedown",this._onTapStart),V(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(o,"dragover",this),V(o,"dragenter",this)),Kt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qe(this,Ko())}k.prototype={constructor:k,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ct=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,p):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,t=this.el,r=this.options,i=r.preventOnFilter,l=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,h=r.filter;if(mr(t),!p&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&It&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Ve(s,r.draggable,t,!1),!(s&&s.animated)&&Wt!==s)){if(gt=Be(s),$t=Be(s,r.draggable),typeof h=="function"){if(h.call(this,e,s,this)){Se({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:t,fromEl:t}),Ie("filter",n,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=Ve(u,f.trim(),t,!1),f)return Se({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:t,toEl:t}),Ie("filter",n,{evt:e}),!0}),h)){i&&e.cancelable&&e.preventDefault();return}r.handle&&!Ve(u,r.handle,t,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,n,t){var r=this,i=r.el,l=r.options,a=i.ownerDocument,s;if(t&&!p&&t.parentNode===i){var u=re(t);if(U=i,p=t,Q=p.parentNode,at=p.nextSibling,Wt=t,Rt=l.group,k.dragged=p,rt={target:p,clientX:(n||e).clientX,clientY:(n||e).clientY},jn=rt.clientX-u.left,Yn=rt.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,p.style["will-change"]="all",s=function(){if(Ie("delayEnded",r,{evt:e}),k.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Fn&&r.nativeDraggable&&(p.draggable=!0),r._triggerDragStart(e,n),Se({sortable:r,name:"choose",originalEvent:e}),Oe(p,l.chosenClass,!0)},l.ignore.split(",").forEach(function(h){io(p,h.trim(),hn)}),V(a,"dragover",it),V(a,"mousemove",it),V(a,"touchmove",it),V(a,"mouseup",r._onDrop),V(a,"touchend",r._onDrop),V(a,"touchcancel",r._onDrop),Fn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),Ie("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(xt||Je))){if(k.eventCanceled){this._onDrop();return}V(a,"mouseup",r._disableDelayedDrag),V(a,"touchend",r._disableDelayedDrag),V(a,"touchcancel",r._disableDelayedDrag),V(a,"mousemove",r._delayedDragTouchMoveHandler),V(a,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&V(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&hn(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;P(e,"mouseup",this._disableDelayedDrag),P(e,"touchend",this._disableDelayedDrag),P(e,"touchcancel",this._disableDelayedDrag),P(e,"mousemove",this._delayedDragTouchMoveHandler),P(e,"touchmove",this._delayedDragTouchMoveHandler),P(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):n?V(document,"touchmove",this._onTouchMove):V(document,"mousemove",this._onTouchMove):(V(p,"dragend",this),V(U,"dragstart",this._onDragStart));try{document.selection?Gt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(pt=!1,U&&p){Ie("dragStarted",this,{evt:n}),this.nativeDraggable&&V(document,"dragover",ar);var t=this.options;!e&&Oe(p,t.dragClass,!1),Oe(p,t.ghostClass,!0),k.active=this,e&&this._appendGhost(),Se({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Re){this._lastX=Re.clientX,this._lastY=Re.clientY,mo();for(var e=document.elementFromPoint(Re.clientX,Re.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Re.clientX,Re.clientY),e!==n);)n=e;if(p.parentNode[Me]._isOutsideThisEl(e),n)do{if(n[Me]){var t=void 0;if(t=n[Me]._onDragOver({clientX:Re.clientX,clientY:Re.clientY,target:e,rootEl:n}),t&&!this.options.dragoverBubble)break}e=n}while(n=ro(n));po()}},_onTouchMove:function(e){if(rt){var n=this.options,t=n.fallbackTolerance,r=n.fallbackOffset,i=e.touches?e.touches[0]:e,l=C&&vt(C,!0),a=C&&l&&l.a,s=C&&l&&l.d,u=jt&&ge&&Vn(ge),h=(i.clientX-rt.clientX+r.x)/(a||1)+(u?u[0]-cn[0]:0)/(a||1),f=(i.clientY-rt.clientY+r.y)/(s||1)+(u?u[1]-cn[1]:0)/(s||1);if(!k.active&&!pt){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(C){l?(l.e+=h-(fn||0),l.f+=f-(dn||0)):l={a:1,b:0,c:0,d:1,e:h,f};var v="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");S(C,"webkitTransform",v),S(C,"mozTransform",v),S(C,"msTransform",v),S(C,"transform",v),fn=h,dn=f,Re=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!C){var e=this.options.fallbackOnBody?document.body:U,n=re(p,!0,jt,!0,e),t=this.options;if(jt){for(ge=e;S(ge,"position")==="static"&&S(ge,"transform")==="none"&&ge!==document;)ge=ge.parentNode;ge!==document.body&&ge!==document.documentElement?(ge===document&&(ge=Xe()),n.top+=ge.scrollTop,n.left+=ge.scrollLeft):ge=Xe(),cn=Vn(ge)}C=p.cloneNode(!0),Oe(C,t.ghostClass,!1),Oe(C,t.fallbackClass,!0),Oe(C,t.dragClass,!0),S(C,"transition",""),S(C,"transform",""),S(C,"box-sizing","border-box"),S(C,"margin",0),S(C,"top",n.top),S(C,"left",n.left),S(C,"width",n.width),S(C,"height",n.height),S(C,"opacity","0.8"),S(C,"position",jt?"absolute":"fixed"),S(C,"zIndex","100000"),S(C,"pointerEvents","none"),k.ghost=C,e.appendChild(C),S(C,"transform-origin",jn/parseInt(C.style.width)*100+"% "+Yn/parseInt(C.style.height)*100+"%")}},_onDragStart:function(e,n){var t=this,r=e.dataTransfer,i=t.options;if(Ie("dragStart",this,{evt:e}),k.eventCanceled){this._onDrop();return}Ie("setupClone",this),k.eventCanceled||(Z=so(p),Z.removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),Oe(Z,this.options.chosenClass,!1),k.clone=Z),t.cloneId=Gt(function(){Ie("clone",t),!k.eventCanceled&&(t.options.removeCloneOnHide||U.insertBefore(Z,p),t._hideClone(),Se({sortable:t,name:"clone"}))}),!n&&Oe(p,i.dragClass,!0),n?(Jt=!0,t._loopId=setInterval(t._emulateDragOver,50)):(P(document,"mouseup",t._onDrop),P(document,"touchend",t._onDrop),P(document,"touchcancel",t._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(t,r,p)),V(document,"drop",t),S(p,"transform","translateZ(0)")),pt=!0,t._dragStartId=Gt(t._dragStarted.bind(t,n,e)),V(document,"selectstart",t),St=!0,It&&S(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,t=e.target,r,i,l,a=this.options,s=a.group,u=k.active,h=Rt===s,f=a.sort,v=de||u,d,m=this,w=!1;if(_n)return;function B(De,he){Ie(De,m,We({evt:e,isOwner:h,axis:d?"vertical":"horizontal",revert:l,dragRect:r,targetRect:i,canSort:f,fromSortable:v,target:t,completed:H,onMove:function(fe,me){return Yt(U,n,p,r,fe,re(fe),e,me)},changed:X},he))}function W(){B("dragOverAnimationCapture"),m.captureAnimationState(),m!==v&&v.captureAnimationState()}function H(De){return B("dragOverCompleted",{insertion:De}),De&&(h?u._hideClone():u._showClone(m),m!==v&&(Oe(p,de?de.options.ghostClass:u.options.ghostClass,!1),Oe(p,a.ghostClass,!0)),de!==m&&m!==k.active?de=m:m===k.active&&de&&(de=null),v===m&&(m._ignoreWhileAnimating=t),m.animateAll(function(){B("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(t===p&&!p.animated||t===n&&!t.animated)&&(ct=null),!a.dragoverBubble&&!e.rootEl&&t!==document&&(p.parentNode[Me]._isOutsideThisEl(e.target),!De&&it(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function X(){xe=Be(p),Ke=Be(p,a.draggable),Se({sortable:m,name:"change",toEl:n,newIndex:xe,newDraggableIndex:Ke,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=Ve(t,a.draggable,n,!0),B("dragOver"),k.eventCanceled)return w;if(p.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||m._ignoreWhileAnimating===t)return H(!1);if(Jt=!1,u&&!a.disabled&&(h?f||(l=Q!==U):de===this||(this.lastPutMode=Rt.checkPull(this,u,p,e))&&s.checkPut(this,u,p,e))){if(d=this._getDirection(e,t)==="vertical",r=re(p),B("dragOverValid"),k.eventCanceled)return w;if(l)return Q=U,W(),this._hideClone(),B("revert"),k.eventCanceled||(at?U.insertBefore(p,at):U.appendChild(p)),H(!0);var A=Dn(n,a.draggable);if(!A||fr(e,d,this)&&!A.animated){if(A===p)return H(!1);if(A&&n===e.target&&(t=A),t&&(i=re(t)),Yt(U,n,p,r,t,i,e,!!t)!==!1)return W(),A&&A.nextSibling?n.insertBefore(p,A.nextSibling):n.appendChild(p),Q=n,X(),H(!0)}else if(A&&ur(e,d,this)){var j=_t(n,0,a,!0);if(j===p)return H(!1);if(t=j,i=re(t),Yt(U,n,p,r,t,i,e,!1)!==!1)return W(),n.insertBefore(p,j),Q=n,X(),H(!0)}else if(t.parentNode===n){i=re(t);var D=0,J,ee=p.parentNode!==n,z=!rr(p.animated&&p.toRect||r,t.animated&&t.toRect||i,d),K=d?"top":"left",ie=Rn(t,"top","top")||Rn(p,"top","top"),ce=ie?ie.scrollTop:void 0;ct!==t&&(J=i[K],Ot=!1,Vt=!z&&a.invertSwap||ee),D=dr(e,t,i,d,z?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Vt,ct===t);var R;if(D!==0){var ae=Be(p);do ae-=D,R=Q.children[ae];while(R&&(S(R,"display")==="none"||R===C))}if(D===0||R===t)return H(!1);ct=t,Mt=D;var Ee=t.nextElementSibling,le=!1;le=D===1;var ye=Yt(U,n,p,r,t,i,e,le);if(ye!==!1)return(ye===1||ye===-1)&&(le=ye===1),_n=!0,setTimeout(sr,30),W(),le&&!Ee?n.appendChild(p):t.parentNode.insertBefore(p,le?Ee:t),ie&&lo(ie,0,ce-ie.scrollTop),Q=p.parentNode,J!==void 0&&!Vt&&(zt=Math.abs(J-re(t)[K])),X(),H(!0)}if(n.contains(p))return H(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",it),P(document,"mousemove",it),P(document,"touchmove",it)},_offUpEvents:function(){var e=this.el.ownerDocument;P(e,"mouseup",this._onDrop),P(e,"touchend",this._onDrop),P(e,"pointerup",this._onDrop),P(e,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(e){var n=this.el,t=this.options;if(xe=Be(p),Ke=Be(p,t.draggable),Ie("drop",this,{evt:e}),Q=p&&p.parentNode,xe=Be(p),Ke=Be(p,t.draggable),k.eventCanceled){this._nulling();return}pt=!1,Vt=!1,Ot=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bn(this.cloneId),bn(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),It&&S(document.body,"user-select",""),S(p,"transform",""),e&&(St&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),C&&C.parentNode&&C.parentNode.removeChild(C),(U===Q||de&&de.lastPutMode!=="clone")&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),p&&(this.nativeDraggable&&P(p,"dragend",this),hn(p),p.style["will-change"]="",St&&!pt&&Oe(p,de?de.options.ghostClass:this.options.ghostClass,!1),Oe(p,this.options.chosenClass,!1),Se({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),U!==Q?(xe>=0&&(Se({rootEl:Q,name:"add",toEl:Q,fromEl:U,originalEvent:e}),Se({sortable:this,name:"remove",toEl:Q,originalEvent:e}),Se({rootEl:Q,name:"sort",toEl:Q,fromEl:U,originalEvent:e}),Se({sortable:this,name:"sort",toEl:Q,originalEvent:e})),de&&de.save()):xe!==gt&&xe>=0&&(Se({sortable:this,name:"update",toEl:Q,originalEvent:e}),Se({sortable:this,name:"sort",toEl:Q,originalEvent:e})),k.active&&((xe==null||xe===-1)&&(xe=gt,Ke=$t),Se({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ie("nulling",this),U=p=Q=C=at=Z=Wt=Qe=rt=Re=St=xe=Ke=gt=$t=ct=Mt=de=Rt=k.dragged=k.ghost=k.clone=k.active=null,Qt.forEach(function(e){e.checked=!0}),Qt.length=fn=dn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":p&&(this._onDragOver(e),lr(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,t=this.el.children,r=0,i=t.length,l=this.options;r<i;r++)n=t[r],Ve(n,l.draggable,this.el,!1)&&e.push(n.getAttribute(l.dataIdAttr)||hr(n));return e},sort:function(e,n){var t={},r=this.el;this.toArray().forEach(function(i,l){var a=r.children[l];Ve(a,this.options.draggable,r,!1)&&(t[i]=a)},this),n&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(r.removeChild(t[i]),r.appendChild(t[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ve(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var t=this.options;if(n===void 0)return t[e];var r=At.modifyOption(this,e,n);typeof r<"u"?t[e]=r:t[e]=n,e==="group"&&ho(t)},destroy:function(){Ie("destroy",this);var e=this.el;e[Me]=null,P(e,"mousedown",this._onTapStart),P(e,"touchstart",this._onTapStart),P(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(e,"dragover",this),P(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Kt.splice(Kt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Qe){if(Ie("hideClone",this),k.eventCanceled)return;S(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),Qe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Qe){if(Ie("showClone",this),k.eventCanceled)return;p.parentNode==U&&!this.options.group.revertClone?U.insertBefore(Z,p):at?U.insertBefore(Z,at):U.appendChild(Z),this.options.group.revertClone&&this.animate(p,Z),S(Z,"display",""),Qe=!1}}};function lr(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Yt(o,e,n,t,r,i,l,a){var s,u=o[Me],h=u.options.onMove,f;return window.CustomEvent&&!Je&&!xt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=o,s.dragged=n,s.draggedRect=t,s.related=r||e,s.relatedRect=i||re(e),s.willInsertAfter=a,s.originalEvent=l,o.dispatchEvent(s),h&&(f=h.call(u,s,l)),f}function hn(o){o.draggable=!1}function sr(){_n=!1}function ur(o,e,n){var t=re(_t(n.el,0,n.options,!0)),r=uo(n.el,n.options,C),i=10;return e?o.clientX<r.left-i||o.clientY<t.top&&o.clientX<t.right:o.clientY<r.top-i||o.clientY<t.bottom&&o.clientX<t.left}function fr(o,e,n){var t=re(Dn(n.el,n.options.draggable)),r=uo(n.el,n.options,C),i=10;return e?o.clientX>r.right+i||o.clientY>t.bottom&&o.clientX>t.left:o.clientY>r.bottom+i||o.clientX>t.right&&o.clientY>t.top}function dr(o,e,n,t,r,i,l,a){var s=t?o.clientY:o.clientX,u=t?n.height:n.width,h=t?n.top:n.left,f=t?n.bottom:n.right,v=!1;if(!l){if(a&&zt<u*r){if(!Ot&&(Mt===1?s>h+u*i/2:s<f-u*i/2)&&(Ot=!0),Ot)v=!0;else if(Mt===1?s<h+zt:s>f-zt)return-Mt}else if(s>h+u*(1-r)/2&&s<f-u*(1-r)/2)return cr(e)}return v=v||l,v&&(s<h+u*i/2||s>f-u*i/2)?s>h+u/2?1:-1:0}function cr(o){return Be(p)<Be(o)?1:-1}function hr(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,n=e.length,t=0;n--;)t+=e.charCodeAt(n);return t.toString(36)}function mr(o){Qt.length=0;for(var e=o.getElementsByTagName("input"),n=e.length;n--;){var t=e[n];t.checked&&Qt.push(t)}}function Gt(o){return setTimeout(o,0)}function bn(o){return clearTimeout(o)}rn&&V(document,"touchmove",function(o){(k.active||pt)&&o.cancelable&&o.preventDefault()});k.utils={on:V,off:P,css:S,find:io,is:function(e,n){return!!Ve(e,n,e,!1)},extend:qo,throttle:ao,closest:Ve,toggleClass:Oe,clone:so,index:Be,nextTick:Gt,cancelNextTick:bn,detectDirection:co,getChild:_t,expando:Me};k.get=function(o){return o[Me]};k.mount=function(){for(var o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(k.utils=We(We({},k.utils),t.utils)),At.mount(t)})};k.create=function(o,e){return new k(o,e)};k.version=Uo;var oe=[],kt,wn,En=!1,mn,pn,en,Ct;function pr(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(n){var t=n.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):t.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var t=n.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),Wn(),Ut(),Jo()},nulling:function(){en=wn=kt=En=Ct=mn=pn=null,oe.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,t){var r=this,i=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,l);if(en=n,t||this.options.forceAutoScrollFallback||xt||Je||It){gn(n,this.options,a,t);var s=et(a,!0);En&&(!Ct||i!==mn||l!==pn)&&(Ct&&Wn(),Ct=setInterval(function(){var u=et(document.elementFromPoint(i,l),!0);u!==s&&(s=u,Ut()),gn(n,r.options,u,t)},10),mn=i,pn=l)}else{if(!this.options.bubbleScroll||et(a,!0)===Xe()){Ut();return}gn(n,this.options,et(a,!1),!1)}}},qe(o,{pluginName:"scroll",initializeByDefault:!0})}function Ut(){oe.forEach(function(o){clearInterval(o.pid)}),oe=[]}function Wn(){clearInterval(Ct)}var gn=ao(function(o,e,n,t){if(e.scroll){var r=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,l=e.scrollSensitivity,a=e.scrollSpeed,s=Xe(),u=!1,h;wn!==n&&(wn=n,Ut(),kt=e.scroll,h=e.scrollFn,kt===!0&&(kt=et(n,!0)));var f=0,v=kt;do{var d=v,m=re(d),w=m.top,B=m.bottom,W=m.left,H=m.right,X=m.width,A=m.height,j=void 0,D=void 0,J=d.scrollWidth,ee=d.scrollHeight,z=S(d),K=d.scrollLeft,ie=d.scrollTop;d===s?(j=X<J&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),D=A<ee&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(j=X<J&&(z.overflowX==="auto"||z.overflowX==="scroll"),D=A<ee&&(z.overflowY==="auto"||z.overflowY==="scroll"));var ce=j&&(Math.abs(H-r)<=l&&K+X<J)-(Math.abs(W-r)<=l&&!!K),R=D&&(Math.abs(B-i)<=l&&ie+A<ee)-(Math.abs(w-i)<=l&&!!ie);if(!oe[f])for(var ae=0;ae<=f;ae++)oe[ae]||(oe[ae]={});(oe[f].vx!=ce||oe[f].vy!=R||oe[f].el!==d)&&(oe[f].el=d,oe[f].vx=ce,oe[f].vy=R,clearInterval(oe[f].pid),(ce!=0||R!=0)&&(u=!0,oe[f].pid=setInterval((function(){t&&this.layer===0&&k.active._onTouchMove(en);var Ee=oe[this.layer].vy?oe[this.layer].vy*a:0,le=oe[this.layer].vx?oe[this.layer].vx*a:0;typeof h=="function"&&h.call(k.dragged.parentNode[Me],le,Ee,o,en,oe[this.layer].el)!=="continue"||lo(oe[this.layer].el,le,Ee)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&v!==s&&(v=et(v,!1)));En=u}},30),go=function(e){var n=e.originalEvent,t=e.putSortable,r=e.dragEl,i=e.activeSortable,l=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(n){var u=t||i;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(h.clientX,h.clientY);s(),u&&!u.el.contains(f)&&(l("spill"),this.onSpill({dragEl:r,putSortable:t}))}};function Sn(){}Sn.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var r=_t(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),t&&t.animateAll()},drop:go};qe(Sn,{pluginName:"revertOnSpill"});function kn(){}kn.prototype={onSpill:function(e){var n=e.dragEl,t=e.putSortable,r=t||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:go};qe(kn,{pluginName:"removeOnSpill"});k.mount(new pr);k.mount(kn,Sn);function gr(o){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),this.h()},l(t){e=Ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=M(e);n=Ue(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(n).forEach(g),r.forEach(g),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",o[1]),c(e,"stroke","currentColor"),c(e,"class",o[0])},m(t,r){x(t,e,r),E(e,n)},p(t,[r]){r&2&&c(e,"stroke-width",t[1]),r&1&&c(e,"class",t[0])},i:Zt,o:Zt,d(t){t&&g(e)}}}function vr(o,e,n){let{className:t="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return o.$$set=i=>{"className"in i&&n(0,t=i.className),"strokeWidth"in i&&n(1,r=i.strokeWidth)},[t,r]}class _r extends nn{constructor(e){super(),on(this,e,vr,gr,tn,{className:0,strokeWidth:1})}}function br(o){let e;const n=o[10].default,t=bo(n,o,o[18],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,i){t&&t.m(r,i),e=!0},p(r,i){t&&t.p&&(!e||i&262144)&&wo(t,n,r,r[18],e?yo(n,r[18],i,null):Eo(r[18]),null)},i(r){e||(q(t,r),e=!0)},o(r){te(t,r),e=!1},d(r){t&&t.d(r)}}}function wr(o){let e,n;return e=new jo({props:{content:o[8].t("More"),$$slots:{default:[br]},$$scope:{ctx:o}}}),{c(){ve(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,r){be(e,t,r),n=!0},p(t,r){const i={};r&256&&(i.content=t[8].t("More")),r&262144&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){we(e,t)}}}function Er(o){let e,n,t,r=o[8].t("Share")+"",i,l;return e=new Lo({}),{c(){ve(e.$$.fragment),n=F(),t=I("div"),i=Te(r),this.h()},l(a){_e(e.$$.fragment,a),n=L(a),t=T(a,"DIV",{class:!0});var s=M(t);i=$e(s,r),s.forEach(g),this.h()},h(){c(t,"class","flex items-center")},m(a,s){be(e,a,s),x(a,n,s),x(a,t,s),E(t,i),l=!0},p(a,s){(!l||s&256)&&r!==(r=a[8].t("Share")+"")&&Ae(i,r)},i(a){l||(q(e.$$.fragment,a),l=!0)},o(a){te(e.$$.fragment,a),l=!1},d(a){a&&(g(n),g(t)),we(e,a)}}}function yr(o){let e,n,t,r=o[8].t("Clone")+"",i,l;return e=new Ro({}),{c(){ve(e.$$.fragment),n=F(),t=I("div"),i=Te(r),this.h()},l(a){_e(e.$$.fragment,a),n=L(a),t=T(a,"DIV",{class:!0});var s=M(t);i=$e(s,r),s.forEach(g),this.h()},h(){c(t,"class","flex items-center")},m(a,s){be(e,a,s),x(a,n,s),x(a,t,s),E(t,i),l=!0},p(a,s){(!l||s&256)&&r!==(r=a[8].t("Clone")+"")&&Ae(i,r)},i(a){l||(q(e.$$.fragment,a),l=!0)},o(a){te(e.$$.fragment,a),l=!1},d(a){a&&(g(n),g(t)),we(e,a)}}}function Dr(o){let e,n,t,r=o[8].t("Export")+"",i,l;return e=new Yo({}),{c(){ve(e.$$.fragment),n=F(),t=I("div"),i=Te(r),this.h()},l(a){_e(e.$$.fragment,a),n=L(a),t=T(a,"DIV",{class:!0});var s=M(t);i=$e(s,r),s.forEach(g),this.h()},h(){c(t,"class","flex items-center")},m(a,s){be(e,a,s),x(a,n,s),x(a,t,s),E(t,i),l=!0},p(a,s){(!l||s&256)&&r!==(r=a[8].t("Export")+"")&&Ae(i,r)},i(a){l||(q(e.$$.fragment,a),l=!0)},o(a){te(e.$$.fragment,a),l=!1},d(a){a&&(g(n),g(t)),we(e,a)}}}function Sr(o){let e,n,t;return{c(){e=Ge("svg"),n=Ge("path"),t=Ge("path"),this.h()},l(r){e=Ue(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=M(e);n=Ue(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(n).forEach(g),t=Ue(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(t).forEach(g),i.forEach(g),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","size-4")},m(r,i){x(r,e,i),E(e,n),E(e,t)},d(r){r&&g(e)}}}function kr(o){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),this.h()},l(t){e=Ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=M(e);n=Ue(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(n).forEach(g),r.forEach(g),this.h()},h(){c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"d","M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","size-4")},m(t,r){x(t,e,r),E(e,n)},d(t){t&&g(e)}}}function Cr(o){var s,u,h;let e,n,t=o[8].t(((h=(u=(s=o[0])==null?void 0:s.info)==null?void 0:u.meta)==null?void 0:h.hidden)??!1?"Show Model":"Hide Model")+"",r;function i(f,v){var d,m,w;return((w=(m=(d=f[0])==null?void 0:d.info)==null?void 0:m.meta)==null?void 0:w.hidden)??!1?kr:Sr}let l=i(o),a=l(o);return{c(){a.c(),e=F(),n=I("div"),r=Te(t),this.h()},l(f){a.l(f),e=L(f),n=T(f,"DIV",{class:!0});var v=M(n);r=$e(v,t),v.forEach(g),this.h()},h(){c(n,"class","flex items-center")},m(f,v){a.m(f,v),x(f,e,v),x(f,n,v),E(n,r)},p(f,v){var d,m,w;l!==(l=i(f))&&(a.d(1),a=l(f),a&&(a.c(),a.m(e.parentNode,e))),v&257&&t!==(t=f[8].t(((w=(m=(d=f[0])==null?void 0:d.info)==null?void 0:m.meta)==null?void 0:w.hidden)??!1?"Show Model":"Hide Model")+"")&&Ae(r,t)},d(f){f&&(g(e),g(n)),a.d(f)}}}function Ir(o){let e,n,t,r=o[8].t("Delete")+"",i,l;return e=new Vo({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),n=F(),t=I("div"),i=Te(r),this.h()},l(a){_e(e.$$.fragment,a),n=L(a),t=T(a,"DIV",{class:!0});var s=M(t);i=$e(s,r),s.forEach(g),this.h()},h(){c(t,"class","flex items-center")},m(a,s){be(e,a,s),x(a,n,s),x(a,t,s),E(t,i),l=!0},p(a,s){(!l||s&256)&&r!==(r=a[8].t("Delete")+"")&&Ae(i,r)},i(a){l||(q(e.$$.fragment,a),l=!0)},o(a){te(e.$$.fragment,a),l=!1},d(a){a&&(g(n),g(t)),we(e,a)}}}function Tr(o){let e,n,t,r,i,l,a,s,u,h,f,v;return e=new yt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Er]},$$scope:{ctx:o}}}),e.$on("click",o[11]),t=new yt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[yr]},$$scope:{ctx:o}}}),t.$on("click",o[12]),i=new yt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Dr]},$$scope:{ctx:o}}}),i.$on("click",o[13]),a=new yt({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Cr]},$$scope:{ctx:o}}}),a.$on("click",o[14]),f=new yt({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Ir]},$$scope:{ctx:o}}}),f.$on("click",o[15]),{c(){ve(e.$$.fragment),n=F(),ve(t.$$.fragment),r=F(),ve(i.$$.fragment),l=F(),ve(a.$$.fragment),s=F(),u=I("hr"),h=F(),ve(f.$$.fragment),this.h()},l(d){_e(e.$$.fragment,d),n=L(d),_e(t.$$.fragment,d),r=L(d),_e(i.$$.fragment,d),l=L(d),_e(a.$$.fragment,d),s=L(d),u=T(d,"HR",{class:!0}),h=L(d),_e(f.$$.fragment,d),this.h()},h(){c(u,"class","border-gray-100 dark:border-gray-800 my-1")},m(d,m){be(e,d,m),x(d,n,m),be(t,d,m),x(d,r,m),be(i,d,m),x(d,l,m),be(a,d,m),x(d,s,m),x(d,u,m),x(d,h,m),be(f,d,m),v=!0},p(d,m){const w={};m&262400&&(w.$$scope={dirty:m,ctx:d}),e.$set(w);const B={};m&262400&&(B.$$scope={dirty:m,ctx:d}),t.$set(B);const W={};m&262400&&(W.$$scope={dirty:m,ctx:d}),i.$set(W);const H={};m&262401&&(H.$$scope={dirty:m,ctx:d}),a.$set(H);const X={};m&262400&&(X.$$scope={dirty:m,ctx:d}),f.$set(X)},i(d){v||(q(e.$$.fragment,d),q(t.$$.fragment,d),q(i.$$.fragment,d),q(a.$$.fragment,d),q(f.$$.fragment,d),v=!0)},o(d){te(e.$$.fragment,d),te(t.$$.fragment,d),te(i.$$.fragment,d),te(a.$$.fragment,d),te(f.$$.fragment,d),v=!1},d(d){d&&(g(n),g(r),g(l),g(s),g(u),g(h)),we(e,d),we(t,d),we(i,d),we(a,d),we(f,d)}}}function $r(o){let e,n,t;return n=new Bo({props:{class:"w-full max-w-[160px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Fo,$$slots:{default:[Tr]},$$scope:{ctx:o}}}),{c(){e=I("div"),ve(n.$$.fragment),this.h()},l(r){e=T(r,"DIV",{slot:!0});var i=M(e);_e(n.$$.fragment,i),i.forEach(g),this.h()},h(){c(e,"slot","content")},m(r,i){x(r,e,i),be(n,e,null),t=!0},p(r,i){const l={};i&262463&&(l.$$scope={dirty:i,ctx:r}),n.$set(l)},i(r){t||(q(n.$$.fragment,r),t=!0)},o(r){te(n.$$.fragment,r),t=!1},d(r){r&&g(e),we(n)}}}function Mr(o){let e,n,t;function r(l){o[16](l)}let i={$$slots:{content:[$r],default:[wr]},$$scope:{ctx:o}};return o[7]!==void 0&&(i.show=o[7]),e=new Po({props:i}),yn.push(()=>Kn(e,"show",r)),e.$on("change",o[17]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){be(e,l,a),t=!0},p(l,[a]){const s={};a&262463&&(s.$$scope={dirty:a,ctx:l}),!n&&a&128&&(n=!0,s.show=l[7],qn(()=>n=!1)),e.$set(s)},i(l){t||(q(e.$$.fragment,l),t=!0)},o(l){te(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Or(o,e,n){let t,{$$slots:r={},$$scope:i}=e;const l=Jn("i18n");ht(o,l,D=>n(8,t=D));let{model:a}=e,{shareHandler:s}=e,{cloneHandler:u}=e,{exportHandler:h}=e,{hideHandler:f}=e,{deleteHandler:v}=e,{onClose:d}=e,m=!1;const w=()=>{s()},B=()=>{u()},W=()=>{h()},H=()=>{f()},X=()=>{v()};function A(D){m=D,n(7,m)}const j=D=>{D.detail===!1&&d()};return o.$$set=D=>{"model"in D&&n(0,a=D.model),"shareHandler"in D&&n(1,s=D.shareHandler),"cloneHandler"in D&&n(2,u=D.cloneHandler),"exportHandler"in D&&n(3,h=D.exportHandler),"hideHandler"in D&&n(4,f=D.hideHandler),"deleteHandler"in D&&n(5,v=D.deleteHandler),"onClose"in D&&n(6,d=D.onClose),"$$scope"in D&&n(18,i=D.$$scope)},[a,s,u,h,f,v,d,m,t,l,r,w,B,W,H,X,A,j,i]}class xr extends nn{constructor(e){super(),on(this,e,Or,Mr,tn,{model:0,shareHandler:1,cloneHandler:2,exportHandler:3,hideHandler:4,deleteHandler:5,onClose:6})}}const{document:vn}=To;function zn(o,e,n){const t=o.slice();return t[38]=e[n],t}function Gn(o){var he,ze,fe,me,ke,b;let e,n,t,r,i,l,a,s,u,h,f=o[38].name+"",v,d,m,w=((fe=(ze=(he=o[38])==null?void 0:he.info)==null?void 0:ze.meta)!=null&&fe.description?(b=(ke=(me=o[38])==null?void 0:me.info)==null?void 0:ke.meta)==null?void 0:b.description:o[38].id)+"",B,W,H,X,A,j,D,J,ee,z,K,ie,ce,R;function ae(){return o[23](o[38])}function Ee(){return o[24](o[38])}function le(){return o[25](o[38])}function ye(){return o[26](o[38])}function De(){return o[27](o[38])}return K=new xr({props:{model:o[38],shareHandler:ae,cloneHandler:Ee,exportHandler:le,hideHandler:ye,deleteHandler:De,onClose:Hr,$$slots:{default:[Ar]},$$scope:{ctx:o}}}),{c(){e=I("div"),n=I("a"),t=I("div"),r=I("div"),i=I("img"),s=F(),u=I("div"),h=I("div"),v=Te(f),d=F(),m=I("div"),B=Te(w),X=F(),A=I("div"),j=I("a"),D=Ge("svg"),J=Ge("path"),z=F(),ve(K.$$.fragment),ie=F(),this.h()},l(y){e=T(y,"DIV",{class:!0,id:!0});var $=M(e);n=T($,"A",{class:!0,href:!0});var O=M(n);t=T(O,"DIV",{class:!0});var Y=M(t);r=T(Y,"DIV",{class:!0});var Ne=M(r);i=T(Ne,"IMG",{src:!0,alt:!0,class:!0}),Ne.forEach(g),Y.forEach(g),s=L(O),u=T(O,"DIV",{class:!0});var se=M(u);h=T(se,"DIV",{class:!0});var Fe=M(h);v=$e(Fe,f),Fe.forEach(g),d=L(se),m=T(se,"DIV",{class:!0});var He=M(m);B=$e(He,w),He.forEach(g),se.forEach(g),O.forEach(g),X=L($),A=T($,"DIV",{class:!0});var ne=M(A);j=T(ne,"A",{class:!0,type:!0,href:!0});var Pe=M(j);D=Ue(Pe,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Le=M(D);J=Ue(Le,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(J).forEach(g),Le.forEach(g),Pe.forEach(g),z=L(ne),_e(K.$$.fragment,ne),ne.forEach(g),ie=L($),$.forEach(g),this.h()},h(){var y,$,O,Y,Ne,se,Fe,He,ne;Hn(i.src,l=((O=($=(y=o[38])==null?void 0:y.info)==null?void 0:$.meta)==null?void 0:O.profile_image_url)??"/favicon.png")||c(i,"src",l),c(i,"alt","modelfile profile"),c(i,"class","rounded-full w-full h-auto object-cover"),c(r,"class",a="rounded-full bg-stone-700 "+(((se=(Ne=(Y=o[38])==null?void 0:Y.info)==null?void 0:Ne.meta)==null?void 0:se.hidden)??!1?"brightness-90 dark:brightness-50":"")),c(t,"class","self-start w-8 pt-0.5"),c(h,"class","font-bold line-clamp-1"),c(m,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),c(u,"class",W="flex-1 self-center "+(((ne=(He=(Fe=o[38])==null?void 0:Fe.info)==null?void 0:He.meta)==null?void 0:ne.hidden)??!1?"text-gray-500":"")),c(n,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),c(n,"href",H=`/?models=${encodeURIComponent(o[38].id)}`),c(J,"stroke-linecap","round"),c(J,"stroke-linejoin","round"),c(J,"d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"),c(D,"xmlns","http://www.w3.org/2000/svg"),c(D,"fill","none"),c(D,"viewBox","0 0 24 24"),c(D,"stroke-width","1.5"),c(D,"stroke","currentColor"),c(D,"class","w-4 h-4"),c(j,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),c(j,"type","button"),c(j,"href",ee=`/workspace/models/edit?id=${encodeURIComponent(o[38].id)}`),c(A,"class","flex flex-row gap-0.5 self-center"),c(e,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),c(e,"id",ce="model-item-"+o[38].id)},m(y,$){x(y,e,$),E(e,n),E(n,t),E(t,r),E(r,i),E(n,s),E(n,u),E(u,h),E(h,v),E(u,d),E(u,m),E(m,B),E(e,X),E(e,A),E(A,j),E(j,D),E(D,J),E(A,z),be(K,A,null),E(e,ie),R=!0},p(y,$){var Y,Ne,se,Fe,He,ne,Pe,Le,tt,lt,je,bt,st,Ce,ut;o=y,(!R||$[0]&80&&!Hn(i.src,l=((se=(Ne=(Y=o[38])==null?void 0:Y.info)==null?void 0:Ne.meta)==null?void 0:se.profile_image_url)??"/favicon.png"))&&c(i,"src",l),(!R||$[0]&80&&a!==(a="rounded-full bg-stone-700 "+(((ne=(He=(Fe=o[38])==null?void 0:Fe.info)==null?void 0:He.meta)==null?void 0:ne.hidden)??!1?"brightness-90 dark:brightness-50":"")))&&c(r,"class",a),(!R||$[0]&80)&&f!==(f=o[38].name+"")&&Ae(v,f),(!R||$[0]&80)&&w!==(w=((tt=(Le=(Pe=o[38])==null?void 0:Pe.info)==null?void 0:Le.meta)!=null&&tt.description?(bt=(je=(lt=o[38])==null?void 0:lt.info)==null?void 0:je.meta)==null?void 0:bt.description:o[38].id)+"")&&Ae(B,w),(!R||$[0]&80&&W!==(W="flex-1 self-center "+(((ut=(Ce=(st=o[38])==null?void 0:st.info)==null?void 0:Ce.meta)==null?void 0:ut.hidden)??!1?"text-gray-500":"")))&&c(u,"class",W),(!R||$[0]&80&&H!==(H=`/?models=${encodeURIComponent(o[38].id)}`))&&c(n,"href",H),(!R||$[0]&80&&ee!==(ee=`/workspace/models/edit?id=${encodeURIComponent(o[38].id)}`))&&c(j,"href",ee);const O={};$[0]&80&&(O.model=o[38]),$[0]&80&&(O.shareHandler=ae),$[0]&80&&(O.cloneHandler=Ee),$[0]&80&&(O.exportHandler=le),$[0]&80&&(O.hideHandler=ye),$[0]&113&&(O.deleteHandler=De),$[1]&1024&&(O.$$scope={dirty:$,ctx:o}),K.$set(O),(!R||$[0]&80&&ce!==(ce="model-item-"+o[38].id))&&c(e,"id",ce)},i(y){R||(q(K.$$.fragment,y),R=!0)},o(y){te(K.$$.fragment,y),R=!1},d(y){y&&g(e),we(K)}}}function Ar(o){let e,n,t;return n=new _r({props:{className:"size-5"}}),{c(){e=I("button"),ve(n.$$.fragment),this.h()},l(r){e=T(r,"BUTTON",{class:!0,type:!0});var i=M(e);_e(n.$$.fragment,i),i.forEach(g),this.h()},h(){c(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),c(e,"type","button")},m(r,i){x(r,e,i),be(n,e,null),t=!0},p:Zt,i(r){t||(q(n.$$.fragment,r),t=!0)},o(r){te(n.$$.fragment,r),t=!1},d(r){r&&g(e),we(n)}}}function Un(o){var i;let e=o[38].id.toLowerCase().includes(o[7])||((i=o[8])==null?void 0:i.role)==="admin",n,t,r=e&&Gn(o);return{c(){r&&r.c(),n=Nn()},l(l){r&&r.l(l),n=Nn()},m(l,a){r&&r.m(l,a),x(l,n,a),t=!0},p(l,a){var s;a[0]&464&&(e=l[38].id.toLowerCase().includes(l[7])||((s=l[8])==null?void 0:s.role)==="admin"),e?r?(r.p(l,a),a[0]&464&&q(r,1)):(r=Gn(l),r.c(),q(r,1),r.m(n.parentNode,n)):r&&(Qn(),te(r,1,1,()=>{r=null}),eo())},i(l){t||(q(r),t=!0)},o(l){te(r),t=!1},d(l){l&&g(n),r&&r.d(l)}}}function Zn(o){let e,n,t=o[1].length+"",r,i,l,a,s,u='<div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg></div>',h,f;return{c(){e=I("div"),n=I("div"),r=Te(t),i=Te(" Local Modelfiles Detected"),l=F(),a=I("div"),s=I("button"),s.innerHTML=u,this.h()},l(v){e=T(v,"DIV",{class:!0});var d=M(e);n=T(d,"DIV",{class:!0});var m=M(n);r=$e(m,t),i=$e(m," Local Modelfiles Detected"),m.forEach(g),l=L(d),a=T(d,"DIV",{class:!0});var w=M(a);s=T(w,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(s)!=="svelte-vns8li"&&(s.innerHTML=u),w.forEach(g),d.forEach(g),this.h()},h(){c(n,"class","self-center text-sm font-medium mr-4"),c(s,"class","self-center w-fit text-sm p-1.5 border dark:border-gray-600 rounded-xl flex"),c(a,"class","flex space-x-1"),c(e,"class","flex")},m(v,d){x(v,e,d),E(e,n),E(n,r),E(n,i),E(e,l),E(e,a),E(a,s),h||(f=mt(s,"click",o[33]),h=!0)},p(v,d){d[0]&2&&t!==(t=v[1].length+"")&&Ae(r,t)},d(v){v&&g(e),h=!1,f()}}}function Nr(o){let e,n,t,r,i,l,a=o[10].t("Models")+"",s,u,h,f,v,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',m,w,B,W,H,X,A,j,D='<div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div>',J,ee,z,K=o[10].t("Create a model")+"",ie,ce,R,ae=o[10].t("Customize models for a specific purpose")+"",Ee,le,ye,De,he,ze,fe,me,ke,b,y,$,O=o[10].t("Import Models")+"",Y,Ne,se,Fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',He,ne,Pe,Le=o[10].t("Export Models")+"",tt,lt,je,bt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',st,Ce,ut,Cn;vn.title=e=`
		`+o[10].t("Models")+" | "+o[11]+`
	`;function vo(_){o[19](_)}let In={};o[0]!==void 0&&(In.show=o[0]),t=new Xo({props:In}),yn.push(()=>Kn(t,"show",vo)),t.$on("confirm",o[20]);let nt=Pn(o[4].filter(o[22])),G=[];for(let _=0;_<nt.length;_+=1)G[_]=Un(zn(o,nt,_));const _o=_=>te(G[_],1,1,()=>{G[_]=null});let pe=o[1].length>0&&Zn(o);return{c(){n=F(),ve(t.$$.fragment),i=F(),l=I("div"),s=Te(a),u=F(),h=I("div"),f=I("div"),v=I("div"),v.innerHTML=d,m=F(),w=I("input"),W=F(),H=I("hr"),X=F(),A=I("a"),j=I("div"),j.innerHTML=D,J=F(),ee=I("div"),z=I("div"),ie=Te(K),ce=F(),R=I("div"),Ee=Te(ae),le=F(),ye=I("hr"),De=F(),he=I("div");for(let _=0;_<G.length;_+=1)G[_].c();ze=F(),fe=I("div"),me=I("div"),ke=I("input"),b=F(),y=I("button"),$=I("div"),Y=Te(O),Ne=F(),se=I("div"),se.innerHTML=Fe,He=F(),ne=I("button"),Pe=I("div"),tt=Te(Le),lt=F(),je=I("div"),je.innerHTML=bt,st=F(),pe&&pe.c(),this.h()},l(_){Do("svelte-rjeobo",vn.head).forEach(g),n=L(_),_e(t.$$.fragment,_),i=L(_),l=T(_,"DIV",{class:!0});var Ye=M(l);s=$e(Ye,a),Ye.forEach(g),u=L(_),h=T(_,"DIV",{class:!0});var ue=M(h);f=T(ue,"DIV",{class:!0});var ot=M(f);v=T(ot,"DIV",{class:!0,"data-svelte-h":!0}),Dt(v)!=="svelte-v38fm1"&&(v.innerHTML=d),m=L(ot),w=T(ot,"INPUT",{class:!0,placeholder:!0}),ot.forEach(g),ue.forEach(g),W=L(_),H=T(_,"HR",{class:!0}),X=L(_),A=T(_,"A",{class:!0,href:!0});var Nt=M(A);j=T(Nt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(j)!=="svelte-z1nu7b"&&(j.innerHTML=D),J=L(Nt),ee=T(Nt,"DIV",{class:!0});var Ht=M(ee);z=T(Ht,"DIV",{class:!0});var Tn=M(z);ie=$e(Tn,K),Tn.forEach(g),ce=L(Ht),R=T(Ht,"DIV",{class:!0});var $n=M(R);Ee=$e($n,ae),$n.forEach(g),Ht.forEach(g),Nt.forEach(g),le=L(_),ye=T(_,"HR",{class:!0}),De=L(_),he=T(_,"DIV",{class:!0,id:!0});var Mn=M(he);for(let an=0;an<G.length;an+=1)G[an].l(Mn);Mn.forEach(g),ze=L(_),fe=T(_,"DIV",{class:!0});var Pt=M(fe);me=T(Pt,"DIV",{class:!0});var ft=M(me);ke=T(ft,"INPUT",{id:!0,type:!0,accept:!0}),b=L(ft),y=T(ft,"BUTTON",{class:!0});var Bt=M(y);$=T(Bt,"DIV",{class:!0});var On=M($);Y=$e(On,O),On.forEach(g),Ne=L(Bt),se=T(Bt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(se)!=="svelte-1q70n51"&&(se.innerHTML=Fe),Bt.forEach(g),He=L(ft),ne=T(ft,"BUTTON",{class:!0});var Ft=M(ne);Pe=T(Ft,"DIV",{class:!0});var xn=M(Pe);tt=$e(xn,Le),xn.forEach(g),lt=L(Ft),je=T(Ft,"DIV",{class:!0,"data-svelte-h":!0}),Dt(je)!=="svelte-k7l80i"&&(je.innerHTML=bt),Ft.forEach(g),ft.forEach(g),st=L(Pt),pe&&pe.l(Pt),Pt.forEach(g),this.h()},h(){c(l,"class","text-lg font-semibold mb-3"),c(v,"class","self-center ml-1 mr-3"),c(w,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),c(w,"placeholder",B=o[10].t("Search Models")),c(f,"class","flex flex-1"),c(h,"class","flex w-full space-x-2"),c(H,"class","dark:border-gray-850 my-2.5"),c(j,"class","self-center w-10"),c(z,"class","font-bold"),c(R,"class","text-sm"),c(ee,"class","self-center"),c(A,"class","flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2"),c(A,"href","/workspace/models/create"),c(ye,"class","dark:border-gray-850"),c(he,"class","my-2 mb-5"),c(he,"id","model-list"),c(ke,"id","models-import-input"),c(ke,"type","file"),c(ke,"accept",".json"),ke.hidden=!0,c($,"class","self-center mr-2 font-medium"),c(se,"class","self-center"),c(y,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),c(Pe,"class","self-center mr-2 font-medium"),c(je,"class","self-center"),c(ne,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),c(me,"class","flex space-x-1"),c(fe,"class","flex justify-end w-full mb-3")},m(_,N){x(_,n,N),be(t,_,N),x(_,i,N),x(_,l,N),E(l,s),x(_,u,N),x(_,h,N),E(h,f),E(f,v),E(f,m),E(f,w),An(w,o[6]),x(_,W,N),x(_,H,N),x(_,X,N),x(_,A,N),E(A,j),E(A,J),E(A,ee),E(ee,z),E(z,ie),E(ee,ce),E(ee,R),E(R,Ee),x(_,le,N),x(_,ye,N),x(_,De,N),x(_,he,N);for(let Ye=0;Ye<G.length;Ye+=1)G[Ye]&&G[Ye].m(he,null);x(_,ze,N),x(_,fe,N),E(fe,me),E(me,ke),o[28](ke),E(me,b),E(me,y),E(y,$),E($,Y),E(y,Ne),E(y,se),E(me,He),E(me,ne),E(ne,Pe),E(Pe,tt),E(ne,lt),E(ne,je),E(fe,st),pe&&pe.m(fe,null),Ce=!0,ut||(Cn=[mt(w,"input",o[21]),mt(ke,"change",o[29]),mt(ke,"change",o[30]),mt(y,"click",o[31]),mt(ne,"click",o[32])],ut=!0)},p(_,N){(!Ce||N[0]&3072)&&e!==(e=`
		`+_[10].t("Models")+" | "+_[11]+`
	`)&&(vn.title=e);const Ye={};if(!r&&N[0]&1&&(r=!0,Ye.show=_[0],qn(()=>r=!1)),t.$set(Ye),(!Ce||N[0]&1024)&&a!==(a=_[10].t("Models")+"")&&Ae(s,a),(!Ce||N[0]&1024&&B!==(B=_[10].t("Search Models")))&&c(w,"placeholder",B),N[0]&64&&w.value!==_[6]&&An(w,_[6]),(!Ce||N[0]&1024)&&K!==(K=_[10].t("Create a model")+"")&&Ae(ie,K),(!Ce||N[0]&1024)&&ae!==(ae=_[10].t("Customize models for a specific purpose")+"")&&Ae(Ee,ae),N[0]&377329){nt=Pn(_[4].filter(_[22]));let ue;for(ue=0;ue<nt.length;ue+=1){const ot=zn(_,nt,ue);G[ue]?(G[ue].p(ot,N),q(G[ue],1)):(G[ue]=Un(ot),G[ue].c(),q(G[ue],1),G[ue].m(he,null))}for(Qn(),ue=nt.length;ue<G.length;ue+=1)_o(ue);eo()}(!Ce||N[0]&1024)&&O!==(O=_[10].t("Import Models")+"")&&Ae(Y,O),(!Ce||N[0]&1024)&&Le!==(Le=_[10].t("Export Models")+"")&&Ae(tt,Le),_[1].length>0?pe?pe.p(_,N):(pe=Zn(_),pe.c(),pe.m(fe,null)):pe&&(pe.d(1),pe=null)},i(_){if(!Ce){q(t.$$.fragment,_);for(let N=0;N<nt.length;N+=1)q(G[N]);Ce=!0}},o(_){te(t.$$.fragment,_),G=G.filter(Boolean);for(let N=0;N<G.length;N+=1)te(G[N]);Ce=!1},d(_){_&&(g(n),g(i),g(l),g(u),g(h),g(W),g(H),g(X),g(A),g(le),g(ye),g(De),g(he),g(ze),g(fe)),we(t,_),So(G,_),o[28](null),pe&&pe.d(),ut=!1,ko(Cn)}}}const Hr=()=>{};function Pr(o,e,n){let t,r,i,l,a;ht(o,Mo,b=>n(35,t=b)),ht(o,Oo,b=>n(8,r=b)),ht(o,Et,b=>n(9,i=b)),ht(o,xo,b=>n(11,a=b));const{saveAs:s}=$o,u=Jn("i18n");ht(o,u,b=>n(10,l=b));let h=!1,f=[],v,d,m=[],w=null,B="",W="";const H=async b=>{if(console.log(b.info),!(b!=null&&b.info))return wt.error(l.t("{{ owner }}: You cannot delete a base model",{owner:b.owned_by.toUpperCase()})),null;await Ao(localStorage.token,b.id)&&wt.success(l.t("Deleted {{name}}",{name:b.id})),await Et.set(await Lt(localStorage.token)),n(4,m=i)},X=async b=>{var y;if((((y=b==null?void 0:b.info)==null?void 0:y.base_model_id)??null)===null){wt.error(l.t("You cannot clone a base model"));return}else sessionStorage.model=JSON.stringify({...b,id:`${b.id}-clone`,name:`${b.name} (Clone)`}),Ho("/workspace/models/create")},A=async b=>{wt.success(l.t("Redirecting you to OpenWebUI Community"));const y="https://openwebui.com",$=await window.open(`${y}/models/create`,"_blank"),O=Y=>{Y.origin===y&&Y.data==="loaded"&&($.postMessage(JSON.stringify(b),"*"),window.removeEventListener("message",O))};window.addEventListener("message",O,!1)},j=async b=>{var O;let y=b.info;y||(y={id:b.id,name:b.name,meta:{suggestion_prompts:null},params:{}}),y.meta={...y.meta,hidden:!(((O=y==null?void 0:y.meta)==null?void 0:O.hidden)??!1)},console.log(y),await ln(localStorage.token,y.id,y)&&wt.success(l.t("Model {{name}} is now {{status}}",{name:y.id,status:y.meta.hidden?"hidden":"visible"})),await Et.set(await Lt(localStorage.token)),n(4,m=i)},D=async b=>{let y=new Blob([JSON.stringify(b)],{type:"application/json"});s(y,`models-export-${Date.now()}.json`)},J=async b=>{let y=new Blob([JSON.stringify([b])],{type:"application/json"});s(y,`${b.id}-${Date.now()}.json`)},ee=async()=>{const b=Array.from(document.getElementById("model-list").children).map(y=>y.id.replace("model-item-",""));for(const[y,$]of b.entries()){const O=i.find(Y=>Y.id===$);if(O){let Y=O.info;Y||(Y={id:O.id,name:O.name,meta:{position:y},params:{}}),Y.meta={...Y.meta,position:y},await ln(localStorage.token,Y.id,Y)}}await Io(),await Et.set(await Lt(localStorage.token))};Co(async()=>{n(4,m=i),n(7,W=((r==null?void 0:r.name)??"").replace(/\s/g,"-").toLowerCase()),n(1,f=JSON.parse(localStorage.getItem("modelfiles")??"[]")),f&&console.log(f),t||new k(document.getElementById("model-list"),{animation:150,onUpdate:async b=>{console.log(b),ee()}})});function z(b){h=b,n(0,h)}const K=()=>{H(w)};function ie(){B=this.value,n(6,B)}const ce=b=>B===""||b.name.toLowerCase().includes(B.toLowerCase()),R=b=>{A(b)},ae=b=>{X(b)},Ee=b=>{J(b)},le=b=>{j(b)},ye=b=>{n(5,w=b),n(0,h=!0)};function De(b){yn[b?"unshift":"push"](()=>{d=b,n(3,d)})}function he(){v=this.files,n(2,v)}return[h,f,v,d,m,w,B,W,r,i,l,a,u,H,X,A,j,D,J,z,K,ie,ce,R,ae,Ee,le,ye,De,he,()=>{console.log(v);let b=new FileReader;b.onload=async y=>{let $=JSON.parse(y.target.result);console.log($);for(const O of $)((O==null?void 0:O.info)??!1)&&(i.find(Y=>Y.id===O.id)?await ln(localStorage.token,O.id,O.info).catch(Y=>null):await No(localStorage.token,O.info).catch(Y=>null));await Et.set(await Lt(localStorage.token)),n(4,m=i)},b.readAsText(v[0])},()=>{d.click()},async()=>{D(i)},async()=>{D(f),localStorage.removeItem("modelfiles"),n(1,f=JSON.parse(localStorage.getItem("modelfiles")??"[]"))}]}class Br extends nn{constructor(e){super(),on(this,e,Pr,Nr,tn,{},null,[-1,-1])}}function Fr(o){let e,n;return e=new Br({}),{c(){ve(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,r){be(e,t,r),n=!0},p:Zt,i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){we(e,t)}}}class ri extends nn{constructor(e){super(),on(this,e,null,Fr,tn,{})}}export{ri as component};
//# sourceMappingURL=11.3378e1fe.js.map
