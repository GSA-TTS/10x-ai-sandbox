import{s as te,a as S,e as J,N as se,d,c as D,i as M,A as U,Q as ae,o as le,f as b,g as w,S as re,h as k,j as x,w as u,l as z,m as A,y as oe,P as ne,n as L,r as K}from"../chunks/scheduler.2ec89978.js";import{S as ie,i as ce,a as C,t as W,c as $,g as ee,b as ue,d as fe,m as de,e as me}from"../chunks/index.276f3600.js";import{g as P}from"../chunks/navigation.6e5a3761.js";import{i as _e,j as he}from"../chunks/index.60df16a1.js";import{S as ve}from"../chunks/Spinner.bb437d83.js";import{c as pe,u as X,s as ge,W as be,a as T}from"../chunks/index.3b6ce8f7.js";import{a as R}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import"../chunks/sha256.65a6c54a.js";import{p as we}from"../chunks/stores.0fdcfcce.js";function Z(f){let n,t=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${T}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,l,i,e,s,o,g;const E=[xe,ye],_=[];function v(a,c){return a[2]!==""&&a[1]!==""?0:1}return s=v(f),o=_[s]=E[s](f),{c(){n=b("div"),n.innerHTML=t,l=S(),i=b("div"),e=b("div"),o.c(),this.h()},l(a){n=w(a,"DIV",{class:!0,"data-svelte-h":!0}),re(n)!=="svelte-18zumjz"&&(n.innerHTML=t),l=D(a),i=w(a,"DIV",{class:!0});var c=k(i);e=w(c,"DIV",{class:!0});var m=k(e);o.l(m),m.forEach(d),c.forEach(d),this.h()},h(){x(n,"class","fixed m-10 z-50"),x(e,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),x(i,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(a,c){M(a,n,c),M(a,l,c),M(a,i,c),u(i,e),_[s].m(e,null),g=!0},p(a,c){let m=s;s=v(a),s===m?_[s].p(a,c):(ee(),W(_[m],1,1,()=>{_[m]=null}),$(),o=_[s],o?o.p(a,c):(o=_[s]=E[s](a),o.c()),C(o,1),o.m(e,null))},i(a){g||(C(o),g=!0)},o(a){W(o),g=!1},d(a){a&&(d(n),d(l),d(i)),_[s].d()}}}function ye(f){let n,t,l,i,e,s,o,g,E,_,v,a,c="Sign in with Cloud.gov",m,h,p,y,I="Sign in with Github",r,V,q;return{c(){n=b("div"),t=b("form"),l=b("div"),i=b("div"),e=z(f[4]),s=S(),o=b("br"),g=z("powered by 10x"),E=S(),_=S(),v=b("div"),a=b("a"),m=z(c),h=S(),p=b("div"),y=b("a"),r=z(I),this.h()},l(j){n=w(j,"DIV",{class:!0});var B=k(n);t=w(B,"FORM",{class:!0});var H=k(t);l=w(H,"DIV",{class:!0});var O=k(l);i=w(O,"DIV",{class:!0});var N=k(i);e=A(N,f[4]),s=D(N),o=w(N,"BR",{}),g=A(N,"powered by 10x"),N.forEach(d),E=D(O),O.forEach(d),_=D(H),v=w(H,"DIV",{class:!0});var F=k(v);a=w(F,"A",{href:!0,class:!0});var G=k(a);m=A(G,c),G.forEach(d),F.forEach(d),h=D(H),p=w(H,"DIV",{class:!0});var Q=k(p);y=w(Q,"A",{href:!0,class:!0});var Y=k(y);r=A(Y,I),Y.forEach(d),Q.forEach(d),H.forEach(d),B.forEach(d),this.h()},h(){x(i,"class","text-2xl font-medium"),x(l,"class","mb-1 pb-10"),x(a,"href",T+"/authorize/cloudgov"),x(a,"class","inline-block bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition text-center"),x(v,"class","mb-1"),x(y,"href",T+"/authorize/github"),x(y,"class","inline-block bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition text-center"),x(p,"class","mb-1"),x(t,"class","flex flex-col justify-center"),x(n,"class","my-auto pb-10 w-full dark:text-gray-100")},m(j,B){M(j,n,B),u(n,t),u(t,l),u(l,i),u(i,e),u(i,s),u(i,o),u(i,g),u(l,E),u(t,_),u(t,v),u(v,a),u(a,m),u(t,h),u(t,p),u(p,y),u(y,r),V||(q=oe(t,"submit",ne(f[7])),V=!0)},p(j,B){B&16&&L(e,j[4])},i:K,o:K,d(j){j&&d(n),V=!1,q()}}}function xe(f){let n,t,l,i=f[3].t("Signing in")+"",e,s,o=f[3].t("to")+"",g,E,_,v,a,c,m;return c=new ve({}),{c(){n=b("div"),t=b("div"),l=b("div"),e=z(i),s=S(),g=z(o),E=S(),_=z(f[4]),v=S(),a=b("div"),ue(c.$$.fragment),this.h()},l(h){n=w(h,"DIV",{class:!0});var p=k(n);t=w(p,"DIV",{class:!0});var y=k(t);l=w(y,"DIV",{});var I=k(l);e=A(I,i),s=D(I),g=A(I,o),E=D(I),_=A(I,f[4]),I.forEach(d),v=D(y),a=w(y,"DIV",{});var r=k(a);fe(c.$$.fragment,r),r.forEach(d),y.forEach(d),p.forEach(d),this.h()},h(){x(t,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-medium dark:text-gray-200"),x(n,"class","my-auto pb-10 w-full")},m(h,p){M(h,n,p),u(n,t),u(t,l),u(l,e),u(l,s),u(l,g),u(l,E),u(l,_),u(t,v),u(t,a),de(c,a,null),m=!0},p(h,p){(!m||p&8)&&i!==(i=h[3].t("Signing in")+"")&&L(e,i),(!m||p&8)&&o!==(o=h[3].t("to")+"")&&L(g,o),(!m||p&16)&&L(_,h[4])},i(h){m||(C(c.$$.fragment,h),m=!0)},o(h){W(c.$$.fragment,h),m=!1},d(h){h&&d(n),me(c)}}}function ke(f){let n,t,l,i;document.title=n=`
		${f[4]}
	`;let e=f[0]&&Z(f);return{c(){t=S(),e&&e.c(),l=J()},l(s){se("svelte-sdpf07",document.head).forEach(d),t=D(s),e&&e.l(s),l=J()},m(s,o){M(s,t,o),e&&e.m(s,o),M(s,l,o),i=!0},p(s,[o]){(!i||o&16)&&n!==(n=`
		${s[4]}
	`)&&(document.title=n),s[0]?e?(e.p(s,o),o&1&&C(e,1)):(e=Z(s),e.c(),C(e,1),e.m(l.parentNode,l)):e&&(ee(),W(e,1,1,()=>{e=null}),$())},i(s){i||(C(e),i=!0)},o(s){W(e),i=!1},d(s){s&&(d(t),d(l)),e&&e.d(s)}}}let Ee="",Ie="";function Se(f,n,t){let l,i,e,s,o,g;U(f,pe,r=>t(9,l=r)),U(f,we,r=>t(10,i=r)),U(f,X,r=>t(11,e=r)),U(f,ge,r=>t(12,s=r)),U(f,be,r=>t(4,g=r));const E=ae("i18n");U(f,E,r=>t(3,o=r));let _=!1,v="",a="",c="";const m=async r=>{r&&(console.log("sessionUser:",r),R.success(o.t("You're now logged in.")),localStorage.token=r.token,s.emit("user-join",{auth:{token:r.token}}),await X.set(r),P("/"))},h=async()=>{const r=await he(Ee,Ie).catch(V=>(R.error(V),null));r&&await m(r)},p=async()=>{const r=await _e(v,a,c).catch(V=>{R.error(V),t(1,v=""),t(2,a=""),c="",P("/auth")});r?await m(r):console.log("sessionUser does not exist")},y=async()=>{await h()};return le(async()=>{e!==void 0&&await P("/"),t(0,_=!0);const r=i.url.searchParams;r.has("state")&&r.has("code")&&r.has("provider")&&(t(1,v=r.get("state")??""),t(2,a=r.get("code")??""),c=r.get("provider")??"",v&&a&&c&&await p()),(((l==null?void 0:l.features.auth_trusted_header)??!1)||(l==null?void 0:l.features.auth)===!1)&&await h()}),[_,v,a,o,g,E,y,()=>{y()}]}class Ce extends ie{constructor(n){super(),ce(this,n,Se,ke,te,{})}}export{Ce as component};
//# sourceMappingURL=21.3bb30c4e.js.map
