import{s as fa,p as Dl,f as u,a as v,l as T,g as d,h as p,c as b,S as Yt,m as V,d as c,j as i,R as re,U as _a,i as C,w as n,V as Rs,y as R,P as pa,n as A,X as $l,L as es,z as ia,A as Il,Q as ma,o as ha,r as ls,t as ga,Y as va,u as zs,v as qs,T as Fs,e as Js}from"../chunks/scheduler.2ec89978.js";import{S as ba,i as wa,f as ts,b as qt,d as Ft,m as Jt,a as _e,t as Ne,c as Ws,e as Wt,g as Ys}from"../chunks/index.276f3600.js";import{e as kt}from"../chunks/each.de3f9353.js";import{a as zt}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import{g as Xs}from"../chunks/navigation.ee54f3a6.js";import{h as Zs,u as ka,r as ya}from"../chunks/index.3b6ce8f7.js";import{a as Ea}from"../chunks/index.cce12198.js";import{b as Ia}from"../chunks/index.6e6a3a3f.js";import{A as Da}from"../chunks/AdvancedParams.49eb3c20.js";import{C as Ta}from"../chunks/Checkbox.e0f2f26f.js";import{T as Va}from"../chunks/Tags.491bb0e3.js";import{K as Sa,T as Na}from"../chunks/ToolsSelector.91d3d1bd.js";import"../chunks/postcss.6867e01e.js";function Ks(s,e,t){const a=s.slice();return a[47]=e[t],a}function Gs(s,e,t){const a=s.slice();return a[50]=e[t],a[51]=e,a[52]=t,a}function Qs(s,e,t){const a=s.slice();return a[53]=e[t],a}function Pa(s){let e,t;return{c(){e=zs("svg"),t=zs("path"),this.h()},l(a){e=qs(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=p(e);t=qs(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),l.forEach(c),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class","size-8")},m(a,l){C(a,e,l),n(e,t)},p:ls,d(a){a&&c(e)}}}function Aa(s){let e,t;return{c(){e=u("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Fs(e.src,t=s[7].meta.profile_image_url)||i(e,"src",t),i(e,"alt","modelfile profile"),i(e,"class","rounded-full size-16 object-cover")},m(a,l){C(a,e,l)},p(a,l){l[0]&4224&&!Fs(e.src,t=a[7].meta.profile_image_url)&&i(e,"src",t)},d(a){a&&c(e)}}}function xs(s){let e,t=s[53].name+"",a,l;return{c(){e=u("option"),a=T(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var h=p(e);a=V(h,t),h.forEach(c),this.h()},h(){e.__value=l=s[53].id,re(e,e.__value),i(e,"class","text-gray-900")},m(r,h){C(r,e,h),n(e,a)},p(r,h){h[0]&4096&&t!==(t=r[53].name+"")&&A(a,t),h[0]&4096&&l!==(l=r[53].id)&&(e.__value=l,re(e,e.__value))},d(r){r&&c(e)}}}function Ma(s){let e,t=s[13].t("Custom")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Custom")+"")&&A(a,t)},d(l){l&&c(e)}}}function Ca(s){let e,t=s[13].t("Default")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Default")+"")&&A(a,t)},d(l){l&&c(e)}}}function $s(s){let e,t,a,l;return{c(){e=u("input"),this.h()},l(r){e=d(r,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(e,"placeholder",t=s[13].t("Add a short description about what this model does"))},m(r,h){C(r,e,h),re(e,s[7].meta.description),a||(l=R(e,"input",s[28]),a=!0)},p(r,h){h[0]&8192&&t!==(t=r[13].t("Add a short description about what this model does"))&&i(e,"placeholder",t),h[0]&4224&&e.value!==r[7].meta.description&&re(e,r[7].meta.description)},d(r){r&&c(e),a=!1,l()}}}function Oa(s){let e,t=s[13].t("Show")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Show")+"")&&A(a,t)},d(l){l&&c(e)}}}function Ba(s){let e,t=s[13].t("Hide")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Hide")+"")&&A(a,t)},d(l){l&&c(e)}}}function ea(s){let e,t,a,l;function r(y){s[31](y)}let h={admin:!0};return s[8]!==void 0&&(h.params=s[8]),t=new Da({props:h}),Dl.push(()=>ts(t,"params",r)),t.$on("change",s[32]),{c(){e=u("div"),qt(t.$$.fragment),this.h()},l(y){e=d(y,"DIV",{class:!0});var I=p(e);Ft(t.$$.fragment,I),I.forEach(c),this.h()},h(){i(e,"class","my-2")},m(y,I){C(y,e,I),Jt(t,e,null),l=!0},p(y,I){const S={};!a&&I[0]&256&&(a=!0,S.params=y[8],$l(()=>a=!1)),t.$set(S)},i(y){l||(_e(t.$$.fragment,y),l=!0)},o(y){Ne(t.$$.fragment,y),l=!1},d(y){y&&c(e),Wt(t)}}}function ja(s){let e,t=s[13].t("Custom")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Custom")+"")&&A(a,t)},d(l){l&&c(e)}}}function La(s){let e,t=s[13].t("Default")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Default")+"")&&A(a,t)},d(l){l&&c(e)}}}function ta(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Yt(e)!=="svelte-1syph4x"&&(e.innerHTML=t),this.h()},h(){i(e,"class","p-1 px-2 text-xs flex rounded transition"),i(e,"type","button")},m(r,h){C(r,e,h),a||(l=R(e,"click",s[34]),a=!0)},p:ls,d(r){r&&c(e),a=!1,l()}}}function la(s){let e;function t(r,h){return r[7].meta.suggestion_prompts.length>0?Ha:Ua}let a=t(s),l=a(s);return{c(){e=u("div"),l.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var h=p(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","flex flex-col space-y-1 mt-2")},m(r,h){C(r,e,h),l.m(e,null)},p(r,h){a===(a=t(r))&&l?l.p(r,h):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&c(e),l.d()}}}function Ua(s){let e,t="No suggestion prompts";return{c(){e=u("div"),e.textContent=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Yt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-center")},m(a,l){C(a,e,l)},p:ls,d(a){a&&c(e)}}}function Ha(s){let e,t=kt(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=sa(Gs(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=Js()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=Js()},m(l,r){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(l,r);C(l,e,r)},p(l,r){if(r[0]&8320){t=kt(l[7].meta.suggestion_prompts);let h;for(h=0;h<t.length;h+=1){const y=Gs(l,t,h);a[h]?a[h].p(y,r):(a[h]=sa(y),a[h].c(),a[h].m(e.parentNode,e))}for(;h<a.length;h+=1)a[h].d(1);a.length=t.length}},d(l){l&&c(e),es(a,l)}}}function sa(s){let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,I,S;function N(){s[35].call(t,s[51],s[52])}function B(){return s[36](s[52])}return{c(){e=u("div"),t=u("input"),l=v(),r=u("button"),r.innerHTML=h,y=v(),this.h()},l(g){e=d(g,"DIV",{class:!0});var D=p(e);t=d(D,"INPUT",{class:!0,placeholder:!0}),l=b(D),r=d(D,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Yt(r)!=="svelte-svd6gc"&&(r.innerHTML=h),y=b(D),D.forEach(c),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),i(t,"placeholder",a=s[13].t("Write a prompt suggestion (e.g. Who are you?)")),i(r,"class","px-2"),i(r,"type","button"),i(e,"class","flex border dark:border-gray-600 rounded-lg")},m(g,D){C(g,e,D),n(e,t),re(t,s[50].content),n(e,l),n(e,r),n(e,y),I||(S=[R(t,"input",N),R(r,"click",B)],I=!0)},p(g,D){s=g,D[0]&8192&&a!==(a=s[13].t("Write a prompt suggestion (e.g. Who are you?)"))&&i(t,"placeholder",a),D[0]&4224&&t.value!==s[50].content&&re(t,s[50].content)},d(g){g&&c(e),I=!1,ia(S)}}}function aa(s){let e,t,a,l,r=s[13].t(s[47])+"",h,y,I;function S(...N){return s[39](s[47],...N)}return t=new Ta({props:{state:s[9][s[47]]?"checked":"unchecked"}}),t.$on("change",S),{c(){e=u("div"),qt(t.$$.fragment),a=v(),l=u("div"),h=T(r),y=v(),this.h()},l(N){e=d(N,"DIV",{class:!0});var B=p(e);Ft(t.$$.fragment,B),a=b(B),l=d(B,"DIV",{class:!0});var g=p(l);h=V(g,r),g.forEach(c),y=b(B),B.forEach(c),this.h()},h(){i(l,"class","py-0.5 text-sm w-full capitalize"),i(e,"class","flex items-center gap-2")},m(N,B){C(N,e,B),Jt(t,e,null),n(e,a),n(e,l),n(l,h),n(e,y),I=!0},p(N,B){s=N;const g={};B[0]&512&&(g.state=s[9][s[47]]?"checked":"unchecked"),t.$set(g),(!I||B[0]&8704)&&r!==(r=s[13].t(s[47])+"")&&A(h,r)},i(N){I||(_e(t.$$.fragment,N),I=!0)},o(N){Ne(t.$$.fragment,N),I=!1},d(N){N&&c(e),Wt(t)}}}function Ra(s){let e,t=s[13].t("Show")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Show")+"")&&A(a,t)},d(l){l&&c(e)}}}function za(s){let e,t=s[13].t("Hide")+"",a;return{c(){e=u("span"),a=T(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=p(e);a=V(r,t),r.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){C(l,e,r),n(e,a)},p(l,r){r[0]&8192&&t!==(t=l[13].t("Hide")+"")&&A(a,t)},d(l){l&&c(e)}}}function ra(s){let e,t,a;return{c(){e=u("div"),t=u("textarea"),this.h()},l(l){e=d(l,"DIV",{});var r=p(e);t=d(r,"TEXTAREA",{class:!0,rows:!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){C(l,e,r),n(e,t)},p(l,r){r[0]&4224&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&c(e)}}}function na(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Yt(e)!=="svelte-qf5fty"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-1.5 self-center")},m(a,l){C(a,e,l)},d(a){a&&c(e)}}}function qa(s){var ds,fs;let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',y,I,S=s[13].t("Back")+"",N,B,g,D,ee,L,f,O,U,Q,te,Pe=s[13].t("Name")+"",Re,Ge,yt,ze,le,Qe,Et,pe,we,qe=s[13].t("Model ID")+"",xe,It,Dt,Fe,se,$e,Tt,me,Ae,Je=s[13].t("Base Model (From)")+"",et,Vt,We,z,ne,Ye=s[13].t("Select a base model")+"",tt,St,_,w,H,q=s[13].t("Description")+"",x,he,W,Y,Me,lt,Nt,ge,st,at,Pt=s[13].t("Model Params")+"",Xt,Tl,oe,Ce,rt,At=s[13].t("System Prompt")+"",Zt,Vl,Mt,ve,Sl,Oe,nt,Ct=s[13].t("Advanced Params")+"",Kt,Nl,ke,Pl,Al,Gt,Ml,ye,Ee,Be,ot,Ot=s[13].t("Prompt suggestions")+"",Qt,Cl,Ie,Ol,Bl,jl,it,De,Ll,Ul,ct,Te,Hl,Rl,je,ut,dt,Bt=s[13].t("Capabilities")+"",xt,zl,Xe,ql,Le,ft,_t,jt=s[13].t("Tags")+"",$t,Fl,pt,Ue,Jl,Ve,He,mt,Lt=s[13].t("JSON Preview")+"",el,Wl,Se,Yl,Xl,ht,ae,gt,Ut=s[13].t("Save & Create")+"",tl,Zl,ll,M,Kl,ss;function as(o,m){return o[7].meta.profile_image_url?Aa:Pa}let sl=as(s),ie=sl(s),vt=kt(s[12].filter(oa)),F=[];for(let o=0;o<vt.length;o+=1)F[o]=xs(Qs(s,vt,o));function rs(o,m){return o[7].meta.description===null?Ca:Ma}let al=rs(s),ce=al(s),X=s[7].meta.description!==null&&$s(s);function ns(o,m){return o[3]?Ba:Oa}let rl=ns(s),ue=rl(s),j=s[3]&&ea(s);function os(o,m){return o[7].meta.suggestion_prompts===null?La:ja}let nl=os(s),de=nl(s),Z=s[7].meta.suggestion_prompts!==null&&ta(s),K=s[7].meta.suggestion_prompts&&la(s);function ca(o){s[37](o)}let is={};s[11]!==void 0&&(is.knowledge=s[11]),De=new Sa({props:is}),Dl.push(()=>ts(De,"knowledge",ca));function ua(o){s[38](o)}let cs={tools:s[14]};s[10]!==void 0&&(cs.selectedToolIds=s[10]),Te=new Na({props:cs}),Dl.push(()=>ts(Te,"selectedToolIds",ua));let Ze=kt(Object.keys(s[9])),P=[];for(let o=0;o<Ze.length;o+=1)P[o]=aa(Ks(s,Ze,o));const da=o=>Ne(P[o],1,1,()=>{P[o]=null});Ue=new Va({props:{tags:((fs=(ds=s[7])==null?void 0:ds.meta)==null?void 0:fs.tags)??[],deleteTag:s[40],addTag:s[41]}});function us(o,m){return o[4]?za:Ra}let ol=us(s),fe=ol(s),G=s[4]&&ra(s),$=s[5]&&na();return{c(){e=u("div"),t=u("input"),a=v(),l=u("button"),r=u("div"),r.innerHTML=h,y=v(),I=u("div"),N=T(S),B=v(),g=u("form"),D=u("div"),ee=u("div"),L=u("button"),ie.c(),O=v(),U=u("div"),Q=u("div"),te=u("div"),Re=T(Pe),Ge=T("*"),yt=v(),ze=u("div"),le=u("input"),Et=v(),pe=u("div"),we=u("div"),xe=T(qe),It=T("*"),Dt=v(),Fe=u("div"),se=u("input"),Tt=v(),me=u("div"),Ae=u("div"),et=T(Je),Vt=v(),We=u("div"),z=u("select"),ne=u("option"),tt=T(Ye);for(let o=0;o<F.length;o+=1)F[o].c();St=v(),_=u("div"),w=u("div"),H=u("div"),x=T(q),he=v(),W=u("button"),ce.c(),Y=v(),X&&X.c(),Me=v(),lt=u("hr"),Nt=v(),ge=u("div"),st=u("div"),at=u("div"),Xt=T(Pt),Tl=v(),oe=u("div"),Ce=u("div"),rt=u("div"),Zt=T(At),Vl=v(),Mt=u("div"),ve=u("textarea"),Sl=v(),Oe=u("div"),nt=u("div"),Kt=T(Ct),Nl=v(),ke=u("button"),ue.c(),Pl=v(),j&&j.c(),Al=v(),Gt=u("hr"),Ml=v(),ye=u("div"),Ee=u("div"),Be=u("div"),ot=u("div"),Qt=T(Ot),Cl=v(),Ie=u("button"),de.c(),Ol=v(),Z&&Z.c(),Bl=v(),K&&K.c(),jl=v(),it=u("div"),qt(De.$$.fragment),Ul=v(),ct=u("div"),qt(Te.$$.fragment),Rl=v(),je=u("div"),ut=u("div"),dt=u("div"),xt=T(Bt),zl=v(),Xe=u("div");for(let o=0;o<P.length;o+=1)P[o].c();ql=v(),Le=u("div"),ft=u("div"),_t=u("div"),$t=T(jt),Fl=v(),pt=u("div"),qt(Ue.$$.fragment),Jl=v(),Ve=u("div"),He=u("div"),mt=u("div"),el=T(Lt),Wl=v(),Se=u("button"),fe.c(),Yl=v(),G&&G.c(),Xl=v(),ht=u("div"),ae=u("button"),gt=u("div"),tl=T(Ut),Zl=v(),$&&$.c(),this.h()},l(o){e=d(o,"DIV",{class:!0});var m=p(e);t=d(m,"INPUT",{type:!0,accept:!0}),a=b(m),l=d(m,"BUTTON",{class:!0});var J=p(l);r=d(J,"DIV",{class:!0,"data-svelte-h":!0}),Yt(r)!=="svelte-1klo87r"&&(r.innerHTML=h),y=b(J),I=d(J,"DIV",{class:!0});var bt=p(I);N=V(bt,S),bt.forEach(c),J.forEach(c),B=b(m),g=d(m,"FORM",{class:!0});var k=p(g);D=d(k,"DIV",{class:!0});var Ht=p(D);ee=d(Ht,"DIV",{class:!0});var Rt=p(ee);L=d(Rt,"BUTTON",{class:!0,type:!0});var E=p(L);ie.l(E),E.forEach(c),Rt.forEach(c),Ht.forEach(c),O=b(k),U=d(k,"DIV",{class:!0});var be=p(U);Q=d(be,"DIV",{class:!0});var il=p(Q);te=d(il,"DIV",{class:!0});var Gl=p(te);Re=V(Gl,Pe),Ge=V(Gl,"*"),Gl.forEach(c),yt=b(il),ze=d(il,"DIV",{});var _s=p(ze);le=d(_s,"INPUT",{class:!0,placeholder:!0}),_s.forEach(c),il.forEach(c),Et=b(be),pe=d(be,"DIV",{class:!0});var cl=p(pe);we=d(cl,"DIV",{class:!0});var Ql=p(we);xe=V(Ql,qe),It=V(Ql,"*"),Ql.forEach(c),Dt=b(cl),Fe=d(cl,"DIV",{});var ps=p(Fe);se=d(ps,"INPUT",{class:!0,placeholder:!0}),ps.forEach(c),cl.forEach(c),be.forEach(c),Tt=b(k),me=d(k,"DIV",{class:!0});var ul=p(me);Ae=d(ul,"DIV",{class:!0});var ms=p(Ae);et=V(ms,Je),ms.forEach(c),Vt=b(ul),We=d(ul,"DIV",{});var hs=p(We);z=d(hs,"SELECT",{class:!0,placeholder:!0});var xl=p(z);ne=d(xl,"OPTION",{class:!0});var gs=p(ne);tt=V(gs,Ye),gs.forEach(c);for(let Ke=0;Ke<F.length;Ke+=1)F[Ke].l(xl);xl.forEach(c),hs.forEach(c),ul.forEach(c),St=b(k),_=d(k,"DIV",{class:!0});var dl=p(_);w=d(dl,"DIV",{class:!0});var fl=p(w);H=d(fl,"DIV",{class:!0});var vs=p(H);x=V(vs,q),vs.forEach(c),he=b(fl),W=d(fl,"BUTTON",{class:!0,type:!0});var bs=p(W);ce.l(bs),bs.forEach(c),fl.forEach(c),Y=b(dl),X&&X.l(dl),dl.forEach(c),Me=b(k),lt=d(k,"HR",{class:!0}),Nt=b(k),ge=d(k,"DIV",{class:!0});var _l=p(ge);st=d(_l,"DIV",{class:!0});var ws=p(st);at=d(ws,"DIV",{class:!0});var ks=p(at);Xt=V(ks,Pt),ks.forEach(c),ws.forEach(c),Tl=b(_l),oe=d(_l,"DIV",{class:!0});var wt=p(oe);Ce=d(wt,"DIV",{class:!0});var pl=p(Ce);rt=d(pl,"DIV",{class:!0});var ys=p(rt);Zt=V(ys,At),ys.forEach(c),Vl=b(pl),Mt=d(pl,"DIV",{});var Es=p(Mt);ve=d(Es,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(ve).forEach(c),Es.forEach(c),pl.forEach(c),Sl=b(wt),Oe=d(wt,"DIV",{class:!0});var ml=p(Oe);nt=d(ml,"DIV",{class:!0});var Is=p(nt);Kt=V(Is,Ct),Is.forEach(c),Nl=b(ml),ke=d(ml,"BUTTON",{class:!0,type:!0});var Ds=p(ke);ue.l(Ds),Ds.forEach(c),ml.forEach(c),Pl=b(wt),j&&j.l(wt),wt.forEach(c),_l.forEach(c),Al=b(k),Gt=d(k,"HR",{class:!0}),Ml=b(k),ye=d(k,"DIV",{class:!0});var hl=p(ye);Ee=d(hl,"DIV",{class:!0});var gl=p(Ee);Be=d(gl,"DIV",{class:!0});var vl=p(Be);ot=d(vl,"DIV",{class:!0});var Ts=p(ot);Qt=V(Ts,Ot),Ts.forEach(c),Cl=b(vl),Ie=d(vl,"BUTTON",{class:!0,type:!0});var Vs=p(Ie);de.l(Vs),Vs.forEach(c),vl.forEach(c),Ol=b(gl),Z&&Z.l(gl),gl.forEach(c),Bl=b(hl),K&&K.l(hl),hl.forEach(c),jl=b(k),it=d(k,"DIV",{class:!0});var Ss=p(it);Ft(De.$$.fragment,Ss),Ss.forEach(c),Ul=b(k),ct=d(k,"DIV",{class:!0});var Ns=p(ct);Ft(Te.$$.fragment,Ns),Ns.forEach(c),Rl=b(k),je=d(k,"DIV",{class:!0});var bl=p(je);ut=d(bl,"DIV",{class:!0});var Ps=p(ut);dt=d(Ps,"DIV",{class:!0});var As=p(dt);xt=V(As,Bt),As.forEach(c),Ps.forEach(c),zl=b(bl),Xe=d(bl,"DIV",{class:!0});var Ms=p(Xe);for(let Ke=0;Ke<P.length;Ke+=1)P[Ke].l(Ms);Ms.forEach(c),bl.forEach(c),ql=b(k),Le=d(k,"DIV",{class:!0});var wl=p(Le);ft=d(wl,"DIV",{class:!0});var Cs=p(ft);_t=d(Cs,"DIV",{class:!0});var Os=p(_t);$t=V(Os,jt),Os.forEach(c),Cs.forEach(c),Fl=b(wl),pt=d(wl,"DIV",{class:!0});var Bs=p(pt);Ft(Ue.$$.fragment,Bs),Bs.forEach(c),wl.forEach(c),Jl=b(k),Ve=d(k,"DIV",{class:!0});var kl=p(Ve);He=d(kl,"DIV",{class:!0});var yl=p(He);mt=d(yl,"DIV",{class:!0});var js=p(mt);el=V(js,Lt),js.forEach(c),Wl=b(yl),Se=d(yl,"BUTTON",{class:!0,type:!0});var Ls=p(Se);fe.l(Ls),Ls.forEach(c),yl.forEach(c),Yl=b(kl),G&&G.l(kl),kl.forEach(c),Xl=b(k),ht=d(k,"DIV",{class:!0});var Us=p(ht);ae=d(Us,"BUTTON",{class:!0,type:!0});var El=p(ae);gt=d(El,"DIV",{class:!0});var Hs=p(gt);tl=V(Hs,Ut),Hs.forEach(c),Zl=b(El),$&&$.l(El),El.forEach(c),Us.forEach(c),k.forEach(c),m.forEach(c),this.h()},h(){i(t,"type","file"),t.hidden=!0,i(t,"accept","image/*"),i(r,"class","self-center"),i(I,"class","self-center font-medium text-sm"),i(l,"class","flex space-x-1"),i(L,"class",f=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),i(L,"type","button"),i(ee,"class","self-center"),i(D,"class","flex justify-center my-4"),i(te,"class","text-sm font-semibold mb-2"),i(le,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(le,"placeholder",Qe=s[13].t("Name your model")),le.required=!0,i(Q,"class","flex-1"),i(we,"class","text-sm font-semibold mb-2"),i(se,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(se,"placeholder",$e=s[13].t("Add a model id")),se.required=!0,i(pe,"class","flex-1"),i(U,"class","my-2 flex space-x-2"),i(Ae,"class","text-sm font-semibold mb-2"),ne.__value=null,re(ne,ne.__value),i(ne,"class","text-gray-900"),i(z,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),i(z,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),z.required=!0,s[7].base_model_id===void 0&&_a(()=>s[25].call(z)),i(me,"class","my-2"),i(H,"class","self-center text-sm font-semibold"),i(W,"class","p-1 text-xs flex rounded transition"),i(W,"type","button"),i(w,"class","flex w-full justify-between items-center mb-1"),i(_,"class","my-1"),i(lt,"class","dark:border-gray-850 my-1"),i(at,"class","self-center text-sm font-semibold"),i(st,"class","flex w-full justify-between"),i(rt,"class","text-xs font-semibold mb-2"),i(ve,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),i(ve,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),i(ve,"rows","4"),i(Ce,"class","my-1"),i(nt,"class","self-center text-xs font-semibold"),i(ke,"class","p-1 px-3 text-xs flex rounded transition"),i(ke,"type","button"),i(Oe,"class","flex w-full justify-between"),i(oe,"class","mt-2"),i(ge,"class","my-2"),i(Gt,"class","dark:border-gray-850 my-1"),i(ot,"class","self-center text-sm font-semibold"),i(Ie,"class","p-1 text-xs flex rounded transition"),i(Ie,"type","button"),i(Be,"class","flex w-full justify-between items-center"),i(Ee,"class","flex w-full justify-between items-center"),i(ye,"class","my-1"),i(it,"class","my-2"),i(ct,"class","my-2"),i(dt,"class","self-center text-sm font-semibold"),i(ut,"class","flex w-full justify-between mb-1"),i(Xe,"class","flex flex-col"),i(je,"class","my-1"),i(_t,"class","self-center text-sm font-semibold"),i(ft,"class","flex w-full justify-between items-center"),i(pt,"class","mt-2"),i(Le,"class","my-1"),i(mt,"class","self-center text-sm font-semibold"),i(Se,"class","p-1 px-3 text-xs flex rounded transition"),i(Se,"type","button"),i(He,"class","flex w-full justify-between mb-2"),i(Ve,"class","my-2 text-gray-300 dark:text-gray-700"),i(gt,"class","self-center font-medium"),i(ae,"class",ll="text-sm px-3 py-2 transition rounded-xl "+(s[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),i(ae,"type","submit"),ae.disabled=s[5],i(ht,"class","my-2 flex justify-end mb-20"),i(g,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),i(e,"class","w-full max-h-full")},m(o,m){C(o,e,m),n(e,t),s[18](t),n(e,a),n(e,l),n(l,r),n(l,y),n(l,I),n(I,N),n(e,B),n(e,g),n(g,D),n(D,ee),n(ee,L),ie.m(L,null),n(g,O),n(g,U),n(U,Q),n(Q,te),n(te,Re),n(te,Ge),n(Q,yt),n(Q,ze),n(ze,le),re(le,s[0]),n(U,Et),n(U,pe),n(pe,we),n(we,xe),n(we,It),n(pe,Dt),n(pe,Fe),n(Fe,se),re(se,s[6]),n(g,Tt),n(g,me),n(me,Ae),n(Ae,et),n(me,Vt),n(me,We),n(We,z),n(z,ne),n(ne,tt);for(let J=0;J<F.length;J+=1)F[J]&&F[J].m(z,null);Rs(z,s[7].base_model_id,!0),n(g,St),n(g,_),n(_,w),n(w,H),n(H,x),n(w,he),n(w,W),ce.m(W,null),n(_,Y),X&&X.m(_,null),n(g,Me),n(g,lt),n(g,Nt),n(g,ge),n(ge,st),n(st,at),n(at,Xt),n(ge,Tl),n(ge,oe),n(oe,Ce),n(Ce,rt),n(rt,Zt),n(Ce,Vl),n(Ce,Mt),n(Mt,ve),re(ve,s[7].params.system),n(oe,Sl),n(oe,Oe),n(Oe,nt),n(nt,Kt),n(Oe,Nl),n(Oe,ke),ue.m(ke,null),n(oe,Pl),j&&j.m(oe,null),n(g,Al),n(g,Gt),n(g,Ml),n(g,ye),n(ye,Ee),n(Ee,Be),n(Be,ot),n(ot,Qt),n(Be,Cl),n(Be,Ie),de.m(Ie,null),n(Ee,Ol),Z&&Z.m(Ee,null),n(ye,Bl),K&&K.m(ye,null),n(g,jl),n(g,it),Jt(De,it,null),n(g,Ul),n(g,ct),Jt(Te,ct,null),n(g,Rl),n(g,je),n(je,ut),n(ut,dt),n(dt,xt),n(je,zl),n(je,Xe);for(let J=0;J<P.length;J+=1)P[J]&&P[J].m(Xe,null);n(g,ql),n(g,Le),n(Le,ft),n(ft,_t),n(_t,$t),n(Le,Fl),n(Le,pt),Jt(Ue,pt,null),n(g,Jl),n(g,Ve),n(Ve,He),n(He,mt),n(mt,el),n(He,Wl),n(He,Se),fe.m(Se,null),n(Ve,Yl),G&&G.m(Ve,null),n(g,Xl),n(g,ht),n(ht,ae),n(ae,gt),n(gt,tl),n(ae,Zl),$&&$.m(ae,null),M=!0,Kl||(ss=[R(t,"change",s[19]),R(t,"change",s[20]),R(l,"click",s[21]),R(L,"click",s[22]),R(le,"input",s[23]),R(se,"input",s[24]),R(z,"change",s[25]),R(z,"change",s[26]),R(W,"click",s[27]),R(ve,"input",s[29]),R(ke,"click",s[30]),R(Ie,"click",s[33]),R(Se,"click",s[42]),R(g,"submit",pa(s[43]))],Kl=!0)},p(o,m){var Ht,Rt;if((!M||m[0]&8192)&&S!==(S=o[13].t("Back")+"")&&A(N,S),sl===(sl=as(o))&&ie?ie.p(o,m):(ie.d(1),ie=sl(o),ie&&(ie.c(),ie.m(L,null))),(!M||m[0]&4224&&f!==(f=(o[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&i(L,"class",f),(!M||m[0]&8192)&&Pe!==(Pe=o[13].t("Name")+"")&&A(Re,Pe),(!M||m[0]&8192&&Qe!==(Qe=o[13].t("Name your model")))&&i(le,"placeholder",Qe),m[0]&1&&le.value!==o[0]&&re(le,o[0]),(!M||m[0]&8192)&&qe!==(qe=o[13].t("Model ID")+"")&&A(xe,qe),(!M||m[0]&8192&&$e!==($e=o[13].t("Add a model id")))&&i(se,"placeholder",$e),m[0]&64&&se.value!==o[6]&&re(se,o[6]),(!M||m[0]&8192)&&Je!==(Je=o[13].t("Base Model (From)")+"")&&A(et,Je),(!M||m[0]&8192)&&Ye!==(Ye=o[13].t("Select a base model")+"")&&A(tt,Ye),m[0]&4096){vt=kt(o[12].filter(oa));let E;for(E=0;E<vt.length;E+=1){const be=Qs(o,vt,E);F[E]?F[E].p(be,m):(F[E]=xs(be),F[E].c(),F[E].m(z,null))}for(;E<F.length;E+=1)F[E].d(1);F.length=vt.length}m[0]&4224&&Rs(z,o[7].base_model_id),(!M||m[0]&8192)&&q!==(q=o[13].t("Description")+"")&&A(x,q),al===(al=rs(o))&&ce?ce.p(o,m):(ce.d(1),ce=al(o),ce&&(ce.c(),ce.m(W,null))),o[7].meta.description!==null?X?X.p(o,m):(X=$s(o),X.c(),X.m(_,null)):X&&(X.d(1),X=null),(!M||m[0]&8192)&&Pt!==(Pt=o[13].t("Model Params")+"")&&A(Xt,Pt),(!M||m[0]&8192)&&At!==(At=o[13].t("System Prompt")+"")&&A(Zt,At),m[0]&4224&&re(ve,o[7].params.system),(!M||m[0]&8192)&&Ct!==(Ct=o[13].t("Advanced Params")+"")&&A(Kt,Ct),rl===(rl=ns(o))&&ue?ue.p(o,m):(ue.d(1),ue=rl(o),ue&&(ue.c(),ue.m(ke,null))),o[3]?j?(j.p(o,m),m[0]&8&&_e(j,1)):(j=ea(o),j.c(),_e(j,1),j.m(oe,null)):j&&(Ys(),Ne(j,1,1,()=>{j=null}),Ws()),(!M||m[0]&8192)&&Ot!==(Ot=o[13].t("Prompt suggestions")+"")&&A(Qt,Ot),nl===(nl=os(o))&&de?de.p(o,m):(de.d(1),de=nl(o),de&&(de.c(),de.m(Ie,null))),o[7].meta.suggestion_prompts!==null?Z?Z.p(o,m):(Z=ta(o),Z.c(),Z.m(Ee,null)):Z&&(Z.d(1),Z=null),o[7].meta.suggestion_prompts?K?K.p(o,m):(K=la(o),K.c(),K.m(ye,null)):K&&(K.d(1),K=null);const J={};!Ll&&m[0]&2048&&(Ll=!0,J.knowledge=o[11],$l(()=>Ll=!1)),De.$set(J);const bt={};if(m[0]&16384&&(bt.tools=o[14]),!Hl&&m[0]&1024&&(Hl=!0,bt.selectedToolIds=o[10],$l(()=>Hl=!1)),Te.$set(bt),(!M||m[0]&8192)&&Bt!==(Bt=o[13].t("Capabilities")+"")&&A(xt,Bt),m[0]&8704){Ze=kt(Object.keys(o[9]));let E;for(E=0;E<Ze.length;E+=1){const be=Ks(o,Ze,E);P[E]?(P[E].p(be,m),_e(P[E],1)):(P[E]=aa(be),P[E].c(),_e(P[E],1),P[E].m(Xe,null))}for(Ys(),E=Ze.length;E<P.length;E+=1)da(E);Ws()}(!M||m[0]&8192)&&jt!==(jt=o[13].t("Tags")+"")&&A($t,jt);const k={};m[0]&128&&(k.tags=((Rt=(Ht=o[7])==null?void 0:Ht.meta)==null?void 0:Rt.tags)??[]),m[0]&128&&(k.deleteTag=o[40]),m[0]&128&&(k.addTag=o[41]),Ue.$set(k),(!M||m[0]&8192)&&Lt!==(Lt=o[13].t("JSON Preview")+"")&&A(el,Lt),ol===(ol=us(o))&&fe?fe.p(o,m):(fe.d(1),fe=ol(o),fe&&(fe.c(),fe.m(Se,null))),o[4]?G?G.p(o,m):(G=ra(o),G.c(),G.m(Ve,null)):G&&(G.d(1),G=null),(!M||m[0]&8192)&&Ut!==(Ut=o[13].t("Save & Create")+"")&&A(tl,Ut),o[5]?$||($=na(),$.c(),$.m(ae,null)):$&&($.d(1),$=null),(!M||m[0]&32&&ll!==(ll="text-sm px-3 py-2 transition rounded-xl "+(o[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&i(ae,"class",ll),(!M||m[0]&32)&&(ae.disabled=o[5])},i(o){if(!M){_e(j),_e(De.$$.fragment,o),_e(Te.$$.fragment,o);for(let m=0;m<Ze.length;m+=1)_e(P[m]);_e(Ue.$$.fragment,o),M=!0}},o(o){Ne(j),Ne(De.$$.fragment,o),Ne(Te.$$.fragment,o),P=P.filter(Boolean);for(let m=0;m<P.length;m+=1)Ne(P[m]);Ne(Ue.$$.fragment,o),M=!1},d(o){o&&c(e),s[18](null),ie.d(),es(F,o),ce.d(),X&&X.d(),ue.d(),j&&j.d(),de.d(),Z&&Z.d(),K&&K.d(),Wt(De),Wt(Te),es(P,o),Wt(Ue),fe.d(),G&&G.d(),$&&$.d(),Kl=!1,ia(ss)}}}const oa=s=>!(s!=null&&s.preset);function Fa(s,e,t){let a,l,r,h;Il(s,Zs,_=>t(12,a=_)),Il(s,ka,_=>t(45,l=_)),Il(s,ya,_=>t(14,h=_));const y=ma("i18n");Il(s,y,_=>t(13,r=_));let I,S,N=!1,B=!1,g=!1,D=!1,ee="",L="",f={id:"",base_model_id:null,name:"",meta:{profile_image_url:null,description:"",suggestion_prompts:[{content:""}]},params:{system:""}},O={},U={vision:!0},Q=[],te=[];const Pe=_=>{var H,q,x;const w=a.find(he=>he.id===_);w&&(w.owned_by==="openai"?t(9,U.usage=((x=(q=(H=w.info)==null?void 0:H.meta)==null?void 0:q.capabilities)==null?void 0:x.usage)??!1,U):delete U.usage,t(9,U))},Re=async()=>{if(t(5,g=!0),(l==null?void 0:l.name)===""||(l==null?void 0:l.name)===void 0)return zt.error("Error: Trouble fetching user info. Please try again later."),t(5,g=!1),D=!1,D;const _=l==null?void 0:l.name.replace(/\s+/g,"-").toLowerCase();if(_===""||_===void 0)return zt.error("Error: Trouble fetching user info. Please try again later."),t(5,g=!1),D=!1,D;if(f.id.toString().includes(_)||t(7,f.id=ee+"-by-"+_,f),f.name.toString().includes(l==null?void 0:l.name)||t(7,f.name=L+" by "+(l==null?void 0:l.name),f),t(7,f.meta.capabilities=U,f),console.log("info:",f),console.log("name:",f.name),console.log("id:",f.id),te.length>0?t(7,f.meta.knowledge=te,f):f.meta.knowledge&&delete f.meta.knowledge,Q.length>0?t(7,f.meta.toolIds=Q,f):f.meta.toolIds&&delete f.meta.toolIds,t(7,f.params.stop=O.stop?O.stop.split(",").filter(w=>w.trim()):null,f),Object.keys(f.params).forEach(w=>{(f.params[w]===""||f.params[w]===null)&&delete f.params[w]}),a.find(w=>w.id===f.id))return zt.error(`Error: A model with the ID '${f.id}' already exists. Please select a different ID to proceed.`),t(5,g=!1),D=!1,D;f&&await Ea(localStorage.token,{...f,meta:{...f.meta,profile_image_url:f.meta.profile_image_url??"/favicon.png",suggestion_prompts:f.meta.suggestion_prompts?f.meta.suggestion_prompts.filter(H=>H.content!==""):null},params:{...f.params,...O}}).catch(H=>{zt.error(H),t(5,g=!1),D=!1})&&(await Zs.set(await Ia(localStorage.token)),zt.success("Model created successfully!"),await Xs("/workspace/models")),t(5,g=!1),D=!1},Ge=async _=>{var w,H,q,x,he;if(t(0,L=_.name),await ga(),t(6,ee=_.id),_.info.base_model_id){const W=a.filter(Y=>!(Y!=null&&Y.preset)).find(Y=>[_.info.base_model_id,`${_.info.base_model_id}:latest`].includes(Y.id));console.log("base_model",W),W?a.find(Y=>Y.id===`${_.info.base_model_id}:latest`)&&(_.info.base_model_id=`${_.info.base_model_id}:latest`):_.info.base_model_id=null}t(8,O={...O,...(w=_==null?void 0:_.info)==null?void 0:w.params}),t(8,O.stop=O!=null&&O.stop?((O==null?void 0:O.stop)??[]).join(","):null,O),t(9,U={...U,...((q=(H=_==null?void 0:_.info)==null?void 0:H.meta)==null?void 0:q.capabilities)??{}}),t(10,Q=((he=(x=_==null?void 0:_.info)==null?void 0:x.meta)==null?void 0:he.toolIds)??[]),t(7,f={...f,..._.info}),console.log(f)};ha(async()=>{if(window.addEventListener("message",async _=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(_.origin))return;const w=JSON.parse(_.data);console.log(w),Ge(w)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model){const _=JSON.parse(sessionStorage.model);sessionStorage.removeItem("model"),console.log(_),Ge(_)}});function yt(_){Dl[_?"unshift":"push"](()=>{I=_,t(1,I)})}function ze(){S=this.files,t(2,S)}const le=()=>{let _=new FileReader;_.onload=w=>{let H=`${w.target.result}`;const q=new Image;q.src=H,q.onload=function(){const x=document.createElement("canvas"),he=x.getContext("2d"),W=q.width/q.height;let Y,Me;W>1?(Y=100*W,Me=100):(Y=100,Me=100/W),x.width=100,x.height=100;const lt=(100-Y)/2,Nt=(100-Me)/2;he.drawImage(q,lt,Nt,Y,Me);const ge=x.toDataURL("image/jpeg");t(7,f.meta.profile_image_url=ge,f),t(2,S=null)}},S&&S.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(S[0].type)?_.readAsDataURL(S[0]):(console.log(`Unsupported File Type '${S[0].type}'.`),t(2,S=null))},Qe=()=>{Xs("/workspace/models")},Et=()=>{I.click()};function pe(){L=this.value,t(0,L)}function we(){ee=this.value,t(6,ee),t(0,L)}function qe(){f.base_model_id=va(this),t(7,f)}const xe=_=>{Pe(_.target.value)},It=()=>{f.meta.description===null?t(7,f.meta.description="",f):t(7,f.meta.description=null,f)};function Dt(){f.meta.description=this.value,t(7,f)}function Fe(){f.params.system=this.value,t(7,f)}const se=()=>{t(3,N=!N)};function $e(_){O=_,t(8,O)}const Tt=_=>{t(7,f.params={...f.params,...O},f)},me=()=>{f.meta.suggestion_prompts===null?t(7,f.meta.suggestion_prompts=[{content:""}],f):t(7,f.meta.suggestion_prompts=null,f)},Ae=()=>{(f.meta.suggestion_prompts.length===0||f.meta.suggestion_prompts.at(-1).content!=="")&&t(7,f.meta.suggestion_prompts=[...f.meta.suggestion_prompts,{content:""}],f)};function Je(_,w){_[w].content=this.value,t(7,f)}const et=_=>{f.meta.suggestion_prompts.splice(_,1),t(7,f)};function Vt(_){te=_,t(11,te)}function We(_){Q=_,t(10,Q)}const z=(_,w)=>{t(9,U[_]=w.detail==="checked",U)},ne=_=>{t(7,f.meta.tags=f.meta.tags.filter(w=>w.name!==_),f)},Ye=_=>{var w;console.log(_),((w=f==null?void 0:f.meta)==null?void 0:w.tags)??null?t(7,f.meta.tags=[...f.meta.tags,{name:_}],f):t(7,f.meta.tags=[{name:_}],f)},tt=()=>{t(4,B=!B)},St=()=>{Re()};return s.$$.update=()=>{s.$$.dirty[0]&1&&L&&t(6,ee=L.replace(/\s+/g,"-").toLowerCase())},[L,I,S,N,B,g,ee,f,O,U,Q,te,a,r,h,y,Pe,Re,yt,ze,le,Qe,Et,pe,we,qe,xe,It,Dt,Fe,se,$e,Tt,me,Ae,Je,et,Vt,We,z,ne,Ye,tt,St]}class sr extends ba{constructor(e){super(),wa(this,e,Fa,qa,fa,{},null,[-1,-1])}}export{sr as component};
//# sourceMappingURL=12.0ac60aba.js.map
