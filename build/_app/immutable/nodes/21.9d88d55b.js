import{s as ae,a as S,e as K,N as le,d,c as D,i as z,A as M,Q as re,o as oe,f as p,g,S as ee,h as E,j as x,w as u,l as B,m as H,y as ne,P as ie,n as W,r as X}from"../chunks/scheduler.2ec89978.js";import{S as ce,i as ue,a as N,t as P,c as te,g as se,b as fe,d as de,m as me,e as _e}from"../chunks/index.276f3600.js";import{g as R}from"../chunks/navigation.adafcd4a.js";import{i as he,j as ve}from"../chunks/index.60df16a1.js";import{S as pe}from"../chunks/Spinner.bb437d83.js";import{c as ge,u as Z,s as be,W as we,a as q}from"../chunks/index.3b6ce8f7.js";import{a as T}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import"../chunks/sha256.65a6c54a.js";import{p as xe}from"../chunks/stores.8eb74645.js";function $(f){let n,t=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${q}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,l,i,e,s,o,v;const I=[ke,ye],m=[];function b(a,c){return a[2]!==""&&a[1]!==""?0:1}return s=b(f),o=m[s]=I[s](f),{c(){n=p("div"),n.innerHTML=t,l=S(),i=p("div"),e=p("div"),o.c(),this.h()},l(a){n=g(a,"DIV",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-18zumjz"&&(n.innerHTML=t),l=D(a),i=g(a,"DIV",{class:!0});var c=E(i);e=g(c,"DIV",{class:!0});var _=E(e);o.l(_),_.forEach(d),c.forEach(d),this.h()},h(){x(n,"class","fixed m-10 z-50"),x(e,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),x(i,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(a,c){z(a,n,c),z(a,l,c),z(a,i,c),u(i,e),m[s].m(e,null),v=!0},p(a,c){let _=s;s=b(a),s===_?m[s].p(a,c):(se(),P(m[_],1,1,()=>{m[_]=null}),te(),o=m[s],o?o.p(a,c):(o=m[s]=I[s](a),o.c()),N(o,1),o.m(e,null))},i(a){v||(N(o),v=!0)},o(a){P(o),v=!1},d(a){a&&(d(n),d(l),d(i)),m[s].d()}}}function ye(f){let n,t,l,i,e,s,o,v,I="powered by 10x",m,b,a,c,_="Sign in with Cloud.gov",h,y,k,w,r="Sign in with Github",V,L,F;return{c(){n=p("div"),t=p("form"),l=p("div"),i=p("div"),e=B(f[4]),s=S(),o=p("br"),v=p("span"),v.textContent=I,m=S(),b=S(),a=p("div"),c=p("a"),h=B(_),y=S(),k=p("div"),w=p("a"),V=B(r),this.h()},l(j){n=g(j,"DIV",{class:!0});var A=E(n);t=g(A,"FORM",{class:!0});var C=E(t);l=g(C,"DIV",{class:!0});var O=E(l);i=g(O,"DIV",{class:!0});var U=E(i);e=H(U,f[4]),s=D(U),o=g(U,"BR",{}),v=g(U,"SPAN",{"data-svelte-h":!0}),ee(v)!=="svelte-1ad5uzk"&&(v.textContent=I),U.forEach(d),m=D(O),O.forEach(d),b=D(C),a=g(C,"DIV",{class:!0});var G=E(a);c=g(G,"A",{href:!0,class:!0});var Q=E(c);h=H(Q,_),Q.forEach(d),G.forEach(d),y=D(C),k=g(C,"DIV",{class:!0});var Y=E(k);w=g(Y,"A",{href:!0,class:!0});var J=E(w);V=H(J,r),J.forEach(d),Y.forEach(d),C.forEach(d),A.forEach(d),this.h()},h(){x(i,"class","text-2xl font-medium"),x(l,"class","mb-1 pb-10"),x(c,"href",q+"/authorize/cloudgov"),x(c,"class","inline-block bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition text-center"),x(a,"class","mb-1"),x(w,"href",q+"/authorize/github"),x(w,"class","inline-block bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition text-center"),x(k,"class","mb-1"),x(t,"class","flex flex-col justify-center"),x(n,"class","my-auto pb-10 w-full dark:text-gray-100")},m(j,A){z(j,n,A),u(n,t),u(t,l),u(l,i),u(i,e),u(i,s),u(i,o),u(i,v),u(l,m),u(t,b),u(t,a),u(a,c),u(c,h),u(t,y),u(t,k),u(k,w),u(w,V),L||(F=ne(t,"submit",ie(f[7])),L=!0)},p(j,A){A&16&&W(e,j[4])},i:X,o:X,d(j){j&&d(n),L=!1,F()}}}function ke(f){let n,t,l,i=f[3].t("Signing in")+"",e,s,o=f[3].t("to")+"",v,I,m,b,a,c,_;return c=new pe({}),{c(){n=p("div"),t=p("div"),l=p("div"),e=B(i),s=S(),v=B(o),I=S(),m=B(f[4]),b=S(),a=p("div"),fe(c.$$.fragment),this.h()},l(h){n=g(h,"DIV",{class:!0});var y=E(n);t=g(y,"DIV",{class:!0});var k=E(t);l=g(k,"DIV",{});var w=E(l);e=H(w,i),s=D(w),v=H(w,o),I=D(w),m=H(w,f[4]),w.forEach(d),b=D(k),a=g(k,"DIV",{});var r=E(a);de(c.$$.fragment,r),r.forEach(d),k.forEach(d),y.forEach(d),this.h()},h(){x(t,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-medium dark:text-gray-200"),x(n,"class","my-auto pb-10 w-full")},m(h,y){z(h,n,y),u(n,t),u(t,l),u(l,e),u(l,s),u(l,v),u(l,I),u(l,m),u(t,b),u(t,a),me(c,a,null),_=!0},p(h,y){(!_||y&8)&&i!==(i=h[3].t("Signing in")+"")&&W(e,i),(!_||y&8)&&o!==(o=h[3].t("to")+"")&&W(v,o),(!_||y&16)&&W(m,h[4])},i(h){_||(N(c.$$.fragment,h),_=!0)},o(h){P(c.$$.fragment,h),_=!1},d(h){h&&d(n),_e(c)}}}function Ee(f){let n,t,l,i;document.title=n=`
		${f[4]}
	`;let e=f[0]&&$(f);return{c(){t=S(),e&&e.c(),l=K()},l(s){le("svelte-sdpf07",document.head).forEach(d),t=D(s),e&&e.l(s),l=K()},m(s,o){z(s,t,o),e&&e.m(s,o),z(s,l,o),i=!0},p(s,[o]){(!i||o&16)&&n!==(n=`
		${s[4]}
	`)&&(document.title=n),s[0]?e?(e.p(s,o),o&1&&N(e,1)):(e=$(s),e.c(),N(e,1),e.m(l.parentNode,l)):e&&(se(),P(e,1,1,()=>{e=null}),te())},i(s){i||(N(e),i=!0)},o(s){P(e),i=!1},d(s){s&&(d(t),d(l)),e&&e.d(s)}}}let Ie="",Se="";function De(f,n,t){let l,i,e,s,o,v;M(f,ge,r=>t(9,l=r)),M(f,xe,r=>t(10,i=r)),M(f,Z,r=>t(11,e=r)),M(f,be,r=>t(12,s=r)),M(f,we,r=>t(4,v=r));const I=re("i18n");M(f,I,r=>t(3,o=r));let m=!1,b="",a="",c="";const _=async r=>{r&&(console.log("sessionUser:",r),T.success(o.t("You're now logged in.")),localStorage.token=r.token,s.emit("user-join",{auth:{token:r.token}}),await Z.set(r),R("/"))},h=async()=>{const r=await ve(Ie,Se).catch(V=>(T.error(V),null));r&&await _(r)},y=async()=>{const r=await he(b,a,c).catch(V=>{T.error(V),t(1,b=""),t(2,a=""),c="",R("/auth")});r?await _(r):console.log("sessionUser does not exist")},k=async()=>{await h()};return oe(async()=>{e!==void 0&&await R("/"),t(0,m=!0);const r=i.url.searchParams;r.has("state")&&r.has("code")&&r.has("provider")&&(t(1,b=r.get("state")??""),t(2,a=r.get("code")??""),c=r.get("provider")??"",b&&a&&c&&await y()),(((l==null?void 0:l.features.auth_trusted_header)??!1)||(l==null?void 0:l.features.auth)===!1)&&await h()}),[m,b,a,o,v,I,k,()=>{k()}]}class Ue extends ce{constructor(n){super(),ue(this,n,De,Ee,ae,{})}}export{Ue as component};
//# sourceMappingURL=21.9d88d55b.js.map
