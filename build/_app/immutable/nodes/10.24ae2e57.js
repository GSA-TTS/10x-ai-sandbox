import{s as Qt,p as Ft,X as Kt,Q as ie,A as Pt,o as ce,f as p,l as X,a as N,g,h as w,m as G,d as o,c as B,S as Dt,j as n,i as j,w as a,R as jt,y as ht,P as Se,n as it,z as te,N as Pe,r as ue,L as Ne,e as ge,u as Ht,v as Ct}from"../chunks/scheduler.2ec89978.js";import{S as ee,i as le,f as se,b as Et,d as Tt,m as It,a as ot,t as mt,e as Vt,g as Wt,c as Yt}from"../chunks/index.276f3600.js";import{g as je}from"../chunks/globals.7f7f1b26.js";import{e as Zt}from"../chunks/each.de3f9353.js";import{a as xt}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import{f as Fe}from"../chunks/FileSaver.min.898eb36f.js";import{q as bt,S as Be,x as He,W as qe,k as Re}from"../chunks/index.3b6ce8f7.js";import{u as Qe,g as Lt,t as _e,c as oe,d as we}from"../chunks/index.07100e8d.js";import{i as Ce}from"../chunks/index.b46c02f3.js";import{t as Ue}from"../chunks/index.1d78794b.js";import{C as $e}from"../chunks/Checkbox.e0f2f26f.js";import{M as Oe}from"../chunks/dayjs.min.75d9117a.js";import{T as Ae}from"../chunks/Tags.491bb0e3.js";import"../chunks/sha256.65a6c54a.js";import{A as Xe}from"../chunks/AddFilesPlaceholder.cd6db517.js";function Ge(e){let t,l,s,f=e[3].t("Edit Doc")+"",c,r,u,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,i,m,b,y,x,H,L=e[3].t("Name Tag")+"",V,A,k,S,C="#",vt,q,U,nt,tt,F=e[3].t("Title")+"",ct,rt,z,W,ut,ft,et,O=e[3].t("Tags")+"",P,R,h,D,E,M,$=e[3].t("Save")+"",Y,Q,pt,Z;return h=new Ae({props:{tags:e[1],addTag:e[6],deleteTag:e[7]}}),{c(){t=p("div"),l=p("div"),s=p("div"),c=X(f),r=N(),u=p("button"),u.innerHTML=d,_=N(),i=p("div"),m=p("div"),b=p("form"),y=p("div"),x=p("div"),H=p("div"),V=X(L),A=N(),k=p("div"),S=p("div"),S.textContent=C,vt=N(),q=p("input"),U=N(),nt=p("div"),tt=p("div"),ct=X(F),rt=N(),z=p("div"),W=p("input"),ut=N(),ft=p("div"),et=p("div"),P=X(O),R=N(),Et(h.$$.fragment),D=N(),E=p("div"),M=p("button"),Y=X($),this.h()},l(T){t=g(T,"DIV",{});var J=w(t);l=g(J,"DIV",{class:!0});var K=w(l);s=g(K,"DIV",{class:!0});var Mt=w(s);c=G(Mt,f),Mt.forEach(o),r=B(K),u=g(K,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(u)!=="svelte-745w2y"&&(u.innerHTML=d),K.forEach(o),_=B(J),i=g(J,"DIV",{class:!0});var St=w(i);m=g(St,"DIV",{class:!0});var Ut=w(m);b=g(Ut,"FORM",{class:!0});var Nt=w(b);y=g(Nt,"DIV",{class:!0});var _t=w(y);x=g(_t,"DIV",{class:!0});var $t=w(x);H=g($t,"DIV",{class:!0});var wt=w(H);V=G(wt,L),wt.forEach(o),A=B($t),k=g($t,"DIV",{class:!0});var Bt=w(k);S=g(Bt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(S)!=="svelte-113b805"&&(S.textContent=C),vt=B(Bt),q=g(Bt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Bt.forEach(o),$t.forEach(o),U=B(_t),nt=g(_t,"DIV",{class:!0});var Ot=w(nt);tt=g(Ot,"DIV",{class:!0});var st=w(tt);ct=G(st,F),st.forEach(o),rt=B(Ot),z=g(Ot,"DIV",{class:!0});var gt=w(z);W=g(gt,"INPUT",{class:!0,type:!0,autocomplete:!0}),gt.forEach(o),Ot.forEach(o),ut=B(_t),ft=g(_t,"DIV",{class:!0});var At=w(ft);et=g(At,"DIV",{class:!0});var qt=w(et);P=G(qt,O),qt.forEach(o),R=B(At),Tt(h.$$.fragment,At),At.forEach(o),_t.forEach(o),D=B(Nt),E=g(Nt,"DIV",{class:!0});var at=w(E);M=g(at,"BUTTON",{class:!0,type:!0});var kt=w(M);Y=G(kt,$),kt.forEach(o),at.forEach(o),Nt.forEach(o),Ut.forEach(o),St.forEach(o),J.forEach(o),this.h()},h(){n(s,"class","text-lg font-medium self-center"),n(u,"class","self-center"),n(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),n(H,"class","mb-1 text-xs text-gray-500"),n(S,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),n(q,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),n(q,"type","text"),n(q,"autocomplete","off"),q.required=!0,n(k,"class","flex flex-1"),n(x,"class","flex flex-col w-full"),n(tt,"class","mb-1 text-xs text-gray-500"),n(W,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),n(W,"type","text"),n(W,"autocomplete","off"),W.required=!0,n(z,"class","flex-1"),n(nt,"class","flex flex-col w-full"),n(et,"class","mb-2 text-xs text-gray-500"),n(ft,"class","flex flex-col w-full"),n(y,"class","flex flex-col space-y-1.5"),n(M,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(M,"type","submit"),n(E,"class","flex justify-end pt-5 text-sm font-medium"),n(b,"class","flex flex-col w-full"),n(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(T,J){j(T,t,J),a(t,l),a(l,s),a(s,c),a(l,r),a(l,u),a(t,_),a(t,i),a(i,m),a(m,b),a(b,y),a(y,x),a(x,H),a(H,V),a(x,A),a(x,k),a(k,S),a(k,vt),a(k,q),jt(q,e[2].name),a(y,U),a(y,nt),a(nt,tt),a(tt,ct),a(nt,rt),a(nt,z),a(z,W),jt(W,e[2].title),a(y,ut),a(y,ft),a(ft,et),a(et,P),a(ft,R),It(h,ft,null),a(b,D),a(b,E),a(E,M),a(M,Y),Q=!0,pt||(Z=[ht(u,"click",e[9]),ht(q,"input",e[10]),ht(W,"input",e[11]),ht(b,"submit",Se(e[12]))],pt=!0)},p(T,J){(!Q||J&8)&&f!==(f=T[3].t("Edit Doc")+"")&&it(c,f),(!Q||J&8)&&L!==(L=T[3].t("Name Tag")+"")&&it(V,L),J&4&&q.value!==T[2].name&&jt(q,T[2].name),(!Q||J&8)&&F!==(F=T[3].t("Title")+"")&&it(ct,F),J&4&&W.value!==T[2].title&&jt(W,T[2].title),(!Q||J&8)&&O!==(O=T[3].t("Tags")+"")&&it(P,O);const K={};J&2&&(K.tags=T[1]),h.$set(K),(!Q||J&8)&&$!==($=T[3].t("Save")+"")&&it(Y,$)},i(T){Q||(ot(h.$$.fragment,T),Q=!0)},o(T){mt(h.$$.fragment,T),Q=!1},d(T){T&&o(t),Vt(h),pt=!1,te(Z)}}}function Je(e){let t,l,s;function f(r){e[13](r)}let c={size:"sm",$$slots:{default:[Ge]},$$scope:{ctx:e}};return e[0]!==void 0&&(c.show=e[0]),t=new Oe({props:c}),Ft.push(()=>se(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,u){It(t,r,u),s=!0},p(r,[u]){const d={};u&16399&&(d.$$scope={dirty:u,ctx:r}),!l&&u&1&&(l=!0,d.show=r[0],Kt(()=>l=!1)),t.$set(d)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function We(e,t,l){let s;const f=ie("i18n");Pt(e,f,V=>l(3,s=V));let{show:c=!1}=t,{selectedDoc:r}=t,u=[],d={name:"",title:"",content:null};const _=async()=>{await Qe(localStorage.token,r.name,{title:d.title,name:d.name}).catch(A=>{xt.error(A)})&&(l(0,c=!1),bt.set(await Lt(localStorage.token)))},i=async V=>{!u.find(A=>A.name===V)&&V!==""?(l(1,u=[...u,{name:V}]),await _e(localStorage.token,d.name,{name:d.name,tags:u}),bt.set(await Lt(localStorage.token))):console.log("tag already exists")},m=async V=>{l(1,u=u.filter(A=>A.name!==V)),await _e(localStorage.token,d.name,{name:d.name,tags:u}),bt.set(await Lt(localStorage.token))};ce(()=>{var V;r&&(l(2,d=JSON.parse(JSON.stringify(r))),l(1,u=((V=d==null?void 0:d.content)==null?void 0:V.tags)??[]))});const b=()=>{l(0,c=!1)};function y(){d.name=this.value,l(2,d)}function x(){d.title=this.value,l(2,d)}const H=()=>{_()};function L(V){c=V,l(0,c)}return e.$$set=V=>{"show"in V&&l(0,c=V.show),"selectedDoc"in V&&l(8,r=V.selectedDoc)},[c,u,d,s,f,_,i,m,r,b,y,x,H,L]}class Ye extends ee{constructor(t){super(),le(this,t,We,Je,Qt,{show:0,selectedDoc:8})}}function Ze(e){let t=e[4].t("Click here to select documents.")+"",l;return{c(){l=X(t)},l(s){l=G(s,t)},m(s,f){j(s,l,f)},p(s,f){f&16&&t!==(t=s[4].t("Click here to select documents.")+"")&&it(l,t)},d(s){s&&o(l)}}}function Ke(e){let t=e[2].length>0?`${e[2].length}`:"",l,s;return{c(){l=X(t),s=X(" document(s) selected.")},l(f){l=G(f,t),s=G(f," document(s) selected.")},m(f,c){j(f,l,c),j(f,s,c)},p(f,c){c&4&&t!==(t=f[2].length>0?`${f[2].length}`:"")&&it(l,t)},d(f){f&&(o(l),o(s))}}}function tl(e){let t,l,s,f=e[4].t("Add Docs")+"",c,r,u,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,i,m,b,y,x,H,L,V,A,k,S,C=e[4].t("Tags")+"",vt,q,U,nt,tt,F,ct=e[4].t("Save")+"",rt,z,W,ut;function ft(P,R){return P[2]?Ke:Ze}let et=ft(e),O=et(e);return U=new Ae({props:{tags:e[3],addTag:e[7],deleteTag:e[8]}}),{c(){t=p("div"),l=p("div"),s=p("div"),c=X(f),r=N(),u=p("button"),u.innerHTML=d,_=N(),i=p("div"),m=p("div"),b=p("form"),y=p("div"),x=p("input"),H=N(),L=p("button"),O.c(),V=N(),A=p("div"),k=p("div"),S=p("div"),vt=X(C),q=N(),Et(U.$$.fragment),nt=N(),tt=p("div"),F=p("button"),rt=X(ct),this.h()},l(P){t=g(P,"DIV",{});var R=w(t);l=g(R,"DIV",{class:!0});var h=w(l);s=g(h,"DIV",{class:!0});var D=w(s);c=G(D,f),D.forEach(o),r=B(h),u=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(u)!=="svelte-745w2y"&&(u.innerHTML=d),h.forEach(o),_=B(R),i=g(R,"DIV",{class:!0});var E=w(i);m=g(E,"DIV",{class:!0});var M=w(m);b=g(M,"FORM",{class:!0});var $=w(b);y=g($,"DIV",{class:!0});var Y=w(y);x=g(Y,"INPUT",{id:!0,type:!0,class:!0}),H=B(Y),L=g(Y,"BUTTON",{class:!0,type:!0});var Q=w(L);O.l(Q),Q.forEach(o),Y.forEach(o),V=B($),A=g($,"DIV",{class:!0});var pt=w(A);k=g(pt,"DIV",{class:!0});var Z=w(k);S=g(Z,"DIV",{class:!0});var T=w(S);vt=G(T,C),T.forEach(o),q=B(Z),Tt(U.$$.fragment,Z),Z.forEach(o),pt.forEach(o),nt=B($),tt=g($,"DIV",{class:!0});var J=w(tt);F=g(J,"BUTTON",{class:!0,type:!0});var K=w(F);rt=G(K,ct),K.forEach(o),J.forEach(o),$.forEach(o),M.forEach(o),E.forEach(o),R.forEach(o),this.h()},h(){n(s,"class","text-lg font-medium self-center"),n(u,"class","self-center"),n(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),n(x,"id","upload-doc-input"),x.hidden=!0,n(x,"type","file"),x.multiple=!0,n(x,"class","svelte-1vx7r9s"),n(L,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),n(L,"type","button"),n(y,"class","mb-3 w-full"),n(S,"class","mb-1.5 text-xs text-gray-500"),n(k,"class","flex flex-col w-full"),n(A,"class","flex flex-col space-y-1.5"),n(F,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(F,"type","submit"),n(tt,"class","flex justify-end pt-5 text-sm font-medium"),n(b,"class","flex flex-col w-full"),n(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(P,R){j(P,t,R),a(t,l),a(l,s),a(s,c),a(l,r),a(l,u),a(t,_),a(t,i),a(i,m),a(m,b),a(b,y),a(y,x),e[10](x),a(y,H),a(y,L),O.m(L,null),a(b,V),a(b,A),a(A,k),a(k,S),a(S,vt),a(k,q),It(U,k,null),a(b,nt),a(b,tt),a(tt,F),a(F,rt),z=!0,W||(ut=[ht(u,"click",e[9]),ht(x,"change",e[11]),ht(L,"click",e[12]),ht(b,"submit",Se(e[13]))],W=!0)},p(P,R){(!z||R&16)&&f!==(f=P[4].t("Add Docs")+"")&&it(c,f),et===(et=ft(P))&&O?O.p(P,R):(O.d(1),O=et(P),O&&(O.c(),O.m(L,null))),(!z||R&16)&&C!==(C=P[4].t("Tags")+"")&&it(vt,C);const h={};R&8&&(h.tags=P[3]),U.$set(h),(!z||R&16)&&ct!==(ct=P[4].t("Save")+"")&&it(rt,ct)},i(P){z||(ot(U.$$.fragment,P),z=!0)},o(P){mt(U.$$.fragment,P),z=!1},d(P){P&&o(t),e[10](null),O.d(),Vt(U),W=!1,te(ut)}}}function el(e){let t,l,s;function f(r){e[14](r)}let c={size:"sm",$$slots:{default:[tl]},$$scope:{ctx:e}};return e[0]!==void 0&&(c.show=e[0]),t=new Oe({props:c}),Ft.push(()=>se(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,u){It(t,r,u),s=!0},p(r,[u]){const d={};u&131103&&(d.$$scope={dirty:u,ctx:r}),!l&&u&1&&(l=!0,d.show=r[0],Kt(()=>l=!1)),t.$set(d)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function ll(e,t,l){let s;const f=ie("i18n");Pt(e,f,k=>l(4,s=k));let{show:c=!1}=t,r,u,d=[];const _=async k=>{const S=await Ce(localStorage.token,"",k).catch(C=>(xt.error(C),null));S&&(await oe(localStorage.token,S.collection_name,S.filename,Ue(S.filename),S.filename,d.length>0?{tags:d}:null).catch(C=>(xt.error(C),null)),await bt.set(await Lt(localStorage.token)))},i=async()=>{if(u&&u.length>0){for(const k of u)console.log(k,k.name.split(".").at(-1)),Be.includes(k.type)||He.includes(k.name.split(".").at(-1))||xt.error(`Unknown File Type '${k.type}', but accepting and treating as plain text`),_(k);l(2,u=null),l(1,r.value="",r)}else xt.error(s.t("File not found."));l(0,c=!1),bt.set(await Lt(localStorage.token))},m=async k=>{!d.find(S=>S.name===k)&&k!==""?l(3,d=[...d,{name:k}]):console.log("tag already exists")},b=async k=>{l(3,d=d.filter(S=>S.name!==k))};ce(()=>{});const y=()=>{l(0,c=!1)};function x(k){Ft[k?"unshift":"push"](()=>{r=k,l(1,r)})}function H(){u=this.files,l(2,u)}const L=()=>{r.click()},V=()=>{i()};function A(k){c=k,l(0,c)}return e.$$set=k=>{"show"in k&&l(0,c=k.show)},[c,r,u,d,s,f,i,m,b,y,x,H,L,V,A]}class sl extends ee{constructor(t){super(),le(this,t,ll,el,Qt,{show:0})}}const{document:re}=je;function be(e,t,l){const s=e.slice();return s[35]=t[l],s[36]=t,s[37]=l,s}function ke(e,t,l){const s=e.slice();return s[38]=t[l],s}function ye(e){let t,l,s,f,c,r,u;return c=new Xe({props:{$$slots:{default:[al]},$$scope:{ctx:e}}}),{c(){t=p("div"),l=p("div"),s=p("div"),f=p("div"),Et(c.$$.fragment),this.h()},l(d){t=g(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var _=w(t);l=g(_,"DIV",{class:!0});var i=w(l);s=g(i,"DIV",{class:!0});var m=w(s);f=g(m,"DIV",{class:!0});var b=w(f);Tt(c.$$.fragment,b),b.forEach(o),m.forEach(o),i.forEach(o),_.forEach(o),this.h()},h(){n(f,"class","max-w-md"),n(s,"class","m-auto pt-64 flex flex-col justify-center"),n(l,"class","absolute w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),n(t,"class",r="fixed "+(e[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"),n(t,"id","dropzone"),n(t,"role","region"),n(t,"aria-label","Drag and Drop Container")},m(d,_){j(d,t,_),a(t,l),a(l,s),a(s,f),It(c,f,null),u=!0},p(d,_){const i={};_[1]&1024&&(i.$$scope={dirty:_,ctx:d}),c.$set(i),(!u||_[0]&8192&&r!==(r="fixed "+(d[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"))&&n(t,"class",r)},i(d){u||(ot(c.$$.fragment,d),u=!0)},o(d){mt(c.$$.fragment,d),u=!1},d(d){d&&o(t),Vt(c)}}}function al(e){let t,l="Drop any files here to add to my documents";return{c(){t=p("div"),t.textContent=l,this.h()},l(s){t=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Dt(t)!=="svelte-19eg75t"&&(t.textContent=l),this.h()},h(){n(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(s,f){j(s,t,f)},p:ue,d(s){s&&o(t)}}}function xe(e){let t,l,s;function f(r){e[18](r)}let c={selectedDoc:e[8]};return e[7]!==void 0&&(c.show=e[7]),t=new Ye({props:c}),Ft.push(()=>se(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,u){It(t,r,u),s=!0},p(r,u){const d={};u[0]&256&&(d.selectedDoc=r[8]),!l&&u[0]&128&&(l=!0,d.show=r[7],Kt(()=>l=!1)),t.$set(d)},i(r){s||(ot(t.$$.fragment,r),s=!0)},o(r){mt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function De(e){let t,l,s,f,c,r;s=new $e({props:{state:e[10].filter(Ie).length===e[10].length?"checked":"unchecked",indeterminate:e[10].filter(Ve).length>0&&e[10].filter(Me).length!==e[10].length}}),s.$on("change",e[22]);function u(i,m){return m[0]&1024&&(c=null),c==null&&(c=i[10].filter(ul).length===0),c?rl:nl}let d=u(e,[-1,-1]),_=d(e);return{c(){t=p("div"),l=p("div"),Et(s.$$.fragment),f=N(),_.c(),this.h()},l(i){t=g(i,"DIV",{class:!0});var m=w(t);l=g(m,"DIV",{class:!0});var b=w(l);Tt(s.$$.fragment,b),b.forEach(o),f=B(m),_.l(m),m.forEach(o),this.h()},h(){n(l,"class","ml-0.5 pr-3 my-auto flex items-center"),n(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(i,m){j(i,t,m),a(t,l),It(s,l,null),a(t,f),_.m(t,null),r=!0},p(i,m){const b={};m[0]&1024&&(b.state=i[10].filter(Ie).length===i[10].length?"checked":"unchecked"),m[0]&1024&&(b.indeterminate=i[10].filter(Ve).length>0&&i[10].filter(Me).length!==i[10].length),s.$set(b),d===(d=u(i,m))&&_?_.p(i,m):(_.d(1),_=d(i),_&&(_.c(),_.m(t,null)))},i(i){r||(ot(s.$$.fragment,i),r=!0)},o(i){mt(s.$$.fragment,i),r=!1},d(i){i&&o(t),Vt(s),_.d()}}}function nl(e){let t,l,s=e[10].filter(Le).length+"",f,c,r,u,d,_,i=e[11].t("delete")+"",m,b,y;return{c(){t=p("div"),l=p("div"),f=X(s),c=X(" Selected"),r=N(),u=p("div"),d=p("button"),_=p("div"),m=X(i),this.h()},l(x){t=g(x,"DIV",{class:!0});var H=w(t);l=g(H,"DIV",{class:!0});var L=w(l);f=G(L,s),c=G(L," Selected"),L.forEach(o),r=B(H),u=g(H,"DIV",{class:!0});var V=w(u);d=g(V,"BUTTON",{class:!0});var A=w(d);_=g(A,"DIV",{class:!0});var k=w(_);m=G(k,i),k.forEach(o),A.forEach(o),V.forEach(o),H.forEach(o),this.h()},h(){n(l,"class","text-xs font-medium py-0.5 self-center mr-1"),n(_,"class","text-xs font-medium self-center line-clamp-1"),n(d,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),n(u,"class","flex gap-1"),n(t,"class","flex-1 flex w-full justify-between items-center")},m(x,H){j(x,t,H),a(t,l),a(l,f),a(l,c),a(t,r),a(t,u),a(u,d),a(d,_),a(_,m),b||(y=ht(d,"click",e[25]),b=!0)},p(x,H){H[0]&1024&&s!==(s=x[10].filter(Le).length+"")&&it(f,s),H[0]&2048&&i!==(i=x[11].t("delete")+"")&&it(m,i)},d(x){x&&o(t),b=!1,y()}}}function rl(e){let t,l,s=e[11].t("all")+"",f,c,r,u,d,_=Zt(e[5]),i=[];for(let m=0;m<_.length;m+=1)i[m]=Ee(ke(e,_,m));return{c(){t=p("button"),l=p("div"),f=X(s),c=N();for(let m=0;m<i.length;m+=1)i[m].c();r=ge(),this.h()},l(m){t=g(m,"BUTTON",{class:!0});var b=w(t);l=g(b,"DIV",{class:!0});var y=w(l);f=G(y,s),y.forEach(o),b.forEach(o),c=B(m);for(let x=0;x<i.length;x+=1)i[x].l(m);r=ge(),this.h()},h(){n(l,"class","text-xs font-medium self-center line-clamp-1"),n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(m,b){j(m,t,b),a(t,l),a(l,f),j(m,c,b);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(m,b);j(m,r,b),u||(d=ht(t,"click",e[23]),u=!0)},p(m,b){if(b[0]&2048&&s!==(s=m[11].t("all")+"")&&it(f,s),b[0]&34){_=Zt(m[5]);let y;for(y=0;y<_.length;y+=1){const x=ke(m,_,y);i[y]?i[y].p(x,b):(i[y]=Ee(x),i[y].c(),i[y].m(r.parentNode,r))}for(;y<i.length;y+=1)i[y].d(1);i.length=_.length}},d(m){m&&(o(t),o(c),o(r)),Ne(i,m),u=!1,d()}}}function Ee(e){let t,l,s,f=e[38]+"",c,r,u,d;function _(){return e[24](e[38])}return{c(){t=p("button"),l=p("div"),s=X("#"),c=X(f),r=N(),this.h()},l(i){t=g(i,"BUTTON",{class:!0});var m=w(t);l=g(m,"DIV",{class:!0});var b=w(l);s=G(b,"#"),c=G(b,f),b.forEach(o),r=B(m),m.forEach(o),this.h()},h(){n(l,"class","text-xs font-medium self-center line-clamp-1"),n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(i,m){j(i,t,m),a(t,l),a(l,s),a(l,c),a(t,r),u||(d=ht(t,"click",_),u=!0)},p(i,m){e=i,m[0]&32&&f!==(f=e[38]+"")&&it(c,f)},d(i){i&&o(t),u=!1,d()}}}function ol(e){let t,l,s,f,c,r;return{c(){t=Ht("svg"),l=Ht("style"),s=X(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),f=Ht("circle"),c=Ht("circle"),r=Ht("circle"),this.h()},l(u){t=Ct(u,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var d=w(t);l=Ct(d,"style",{});var _=w(l);s=G(_,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),_.forEach(o),f=Ct(d,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(f).forEach(o),c=Ct(d,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(c).forEach(o),r=Ct(d,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(r).forEach(o),d.forEach(o),this.h()},h(){n(f,"class","spinner_qM83"),n(f,"cx","4"),n(f,"cy","12"),n(f,"r","2.5"),n(c,"class","spinner_qM83 spinner_oXPr"),n(c,"cx","12"),n(c,"cy","12"),n(c,"r","2.5"),n(r,"class","spinner_qM83 spinner_ZTLf"),n(r,"cx","20"),n(r,"cy","12"),n(r,"r","2.5"),n(t,"class","w-6 h-6 translate-y-[0.5px]"),n(t,"fill","currentColor"),n(t,"viewBox","0 0 24 24"),n(t,"xmlns","http://www.w3.org/2000/svg")},m(u,d){j(u,t,d),a(t,l),a(l,s),a(t,f),a(t,c),a(t,r)},d(u){u&&o(t)}}}function il(e){let t,l,s;return{c(){t=Ht("svg"),l=Ht("path"),s=Ht("path"),this.h()},l(f){t=Ct(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=w(t);l=Ct(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(o),s=Ct(c,"path",{d:!0}),w(s).forEach(o),c.forEach(o),this.h()},h(){n(l,"fill-rule","evenodd"),n(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),n(l,"clip-rule","evenodd"),n(s,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 24 24"),n(t,"fill","currentColor"),n(t,"class","w-6 h-6")},m(f,c){j(f,t,c),a(t,l),a(t,s)},d(f){f&&o(t)}}}function Te(e){var D;let t,l,s,f,c,r,u,d,_,i,m,b=e[35].name+"",y,x,H=e[35].filename+"",L,V,A,k,S=e[35].title+"",C,vt,q,U,nt='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',tt,F,ct='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',rt,z,W,ut;s=new $e({props:{state:((D=e[35])==null?void 0:D.selected)??"unchecked"}});function ft(E,M){return E[35]?il:ol}let et=ft(e),O=et(e);function P(...E){return e[26](e[35],...E)}function R(...E){return e[27](e[35],...E)}function h(){return e[28](e[35],e[36],e[37])}return{c(){t=p("button"),l=p("div"),Et(s.$$.fragment),f=N(),c=p("div"),r=p("div"),u=p("div"),O.c(),d=N(),_=p("div"),i=p("div"),m=X("#"),y=X(b),x=X(" ("),L=X(H),V=X(")"),A=N(),k=p("div"),C=X(S),vt=N(),q=p("div"),U=p("button"),U.innerHTML=nt,tt=N(),F=p("button"),F.innerHTML=ct,rt=N(),this.h()},l(E){t=g(E,"BUTTON",{class:!0});var M=w(t);l=g(M,"DIV",{class:!0});var $=w(l);Tt(s.$$.fragment,$),$.forEach(o),f=B(M),c=g(M,"DIV",{class:!0});var Y=w(c);r=g(Y,"DIV",{class:!0});var Q=w(r);u=g(Q,"DIV",{class:!0});var pt=w(u);O.l(pt),pt.forEach(o),d=B(Q),_=g(Q,"DIV",{class:!0});var Z=w(_);i=g(Z,"DIV",{class:!0});var T=w(i);m=G(T,"#"),y=G(T,b),x=G(T," ("),L=G(T,H),V=G(T,")"),T.forEach(o),A=B(Z),k=g(Z,"DIV",{class:!0});var J=w(k);C=G(J,S),J.forEach(o),Z.forEach(o),Q.forEach(o),Y.forEach(o),vt=B(M),q=g(M,"DIV",{class:!0});var K=w(q);U=g(K,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Dt(U)!=="svelte-105zedk"&&(U.innerHTML=nt),tt=B(K),F=g(K,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Dt(F)!=="svelte-13wl5iz"&&(F.innerHTML=ct),K.forEach(o),rt=B(M),M.forEach(o),this.h()},h(){n(l,"class","my-auto flex items-center"),n(u,"class","p-2.5 bg-red-400 text-white rounded-lg"),n(i,"class","font-bold line-clamp-1"),n(k,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),n(_,"class","self-center flex-1"),n(r,"class","flex items-center space-x-3"),n(c,"class","flex flex-1 space-x-4 cursor-pointer w-full"),n(U,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(U,"type","button"),n(F,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(F,"type","button"),n(q,"class","flex flex-row space-x-1 self-center"),n(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(E,M){j(E,t,M),a(t,l),It(s,l,null),a(t,f),a(t,c),a(c,r),a(r,u),O.m(u,null),a(r,d),a(r,_),a(_,i),a(i,m),a(i,y),a(i,x),a(i,L),a(i,V),a(_,A),a(_,k),a(k,C),a(t,vt),a(t,q),a(q,U),a(q,tt),a(q,F),a(t,rt),z=!0,W||(ut=[ht(U,"click",P),ht(F,"click",R),ht(t,"click",h)],W=!0)},p(E,M){var Y;e=E;const $={};M[0]&1024&&($.state=((Y=e[35])==null?void 0:Y.selected)??"unchecked"),s.$set($),et!==(et=ft(e))&&(O.d(1),O=et(e),O&&(O.c(),O.m(u,null))),(!z||M[0]&1024)&&b!==(b=e[35].name+"")&&it(y,b),(!z||M[0]&1024)&&H!==(H=e[35].filename+"")&&it(L,H),(!z||M[0]&1024)&&S!==(S=e[35].title+"")&&it(C,S)},i(E){z||(ot(s.$$.fragment,E),z=!0)},o(E){mt(s.$$.fragment,E),z=!1},d(E){E&&o(t),Vt(s),O.d(),W=!1,te(ut)}}}function cl(e){let t,l,s,f=e[8],c,r,u,d,_,i,m,b=e[11].t("Documents")+"",y,x,H,L,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',A,k,S,C,vt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',q,U,nt,tt,F,ct,rt,z,W,ut,ft,et=e[11].t("Use '#' in the prompt input to load and select your documents.")+"",O,P,R,h,D,E,M,$,Y=e[11].t("Import Documents Mapping")+"",Q,pt,Z,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',J,K,Mt,St=e[11].t("Export Documents Mapping")+"",Ut,Nt,_t,$t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',wt,Bt,Ot;re.title=t=`
		`+e[11].t("Documents")+" | "+e[12]+`
	`;let st=e[9]&&ye(e),gt=xe(e);function At(v){e[19](v)}let qt={};e[6]!==void 0&&(qt.show=e[6]),r=new sl({props:qt}),Ft.push(()=>se(r,"show",At));let at=e[5].length>0&&De(e),kt=Zt(e[10]),lt=[];for(let v=0;v<kt.length;v+=1)lt[v]=Te(be(e,kt,v));const ze=v=>mt(lt[v],1,1,()=>{lt[v]=null});return{c(){l=N(),st&&st.c(),s=N(),gt.c(),c=N(),Et(r.$$.fragment),d=N(),_=p("div"),i=p("div"),m=p("div"),y=X(b),x=N(),H=p("div"),L=p("button"),L.innerHTML=V,A=N(),k=p("div"),S=p("div"),C=p("div"),C.innerHTML=vt,q=N(),U=p("input"),tt=N(),F=p("hr"),ct=N(),at&&at.c(),rt=N(),z=p("div");for(let v=0;v<lt.length;v+=1)lt[v].c();W=N(),ut=p("div"),ft=X("ⓘ "),O=X(et),P=N(),R=p("div"),h=p("div"),D=p("input"),E=N(),M=p("button"),$=p("div"),Q=X(Y),pt=N(),Z=p("div"),Z.innerHTML=T,J=N(),K=p("button"),Mt=p("div"),Ut=X(St),Nt=N(),_t=p("div"),_t.innerHTML=$t,this.h()},l(v){Pe("svelte-vxyf60",re.head).forEach(o),l=B(v),st&&st.l(v),s=B(v),gt.l(v),c=B(v),Tt(r.$$.fragment,v),d=B(v),_=g(v,"DIV",{class:!0});var yt=w(_);i=g(yt,"DIV",{class:!0});var dt=w(i);m=g(dt,"DIV",{class:!0});var Rt=w(m);y=G(Rt,b),Rt.forEach(o),x=B(dt),H=g(dt,"DIV",{});var fe=w(H);L=g(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(L)!=="svelte-vldx36"&&(L.innerHTML=V),fe.forEach(o),dt.forEach(o),yt.forEach(o),A=B(v),k=g(v,"DIV",{class:!0});var de=w(k);S=g(de,"DIV",{class:!0});var Xt=w(S);C=g(Xt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(C)!=="svelte-v38fm1"&&(C.innerHTML=vt),q=B(Xt),U=g(Xt,"INPUT",{class:!0,placeholder:!0}),Xt.forEach(o),de.forEach(o),tt=B(v),F=g(v,"HR",{class:!0}),ct=B(v),at&&at.l(v),rt=B(v),z=g(v,"DIV",{class:!0});var he=w(z);for(let ne=0;ne<lt.length;ne+=1)lt[ne].l(he);he.forEach(o),W=B(v),ut=g(v,"DIV",{class:!0});var ae=w(ut);ft=G(ae,"ⓘ "),O=G(ae,et),ae.forEach(o),P=B(v),R=g(v,"DIV",{class:!0});var me=w(R);h=g(me,"DIV",{class:!0});var zt=w(h);D=g(zt,"INPUT",{id:!0,type:!0,accept:!0}),E=B(zt),M=g(zt,"BUTTON",{class:!0});var Gt=w(M);$=g(Gt,"DIV",{class:!0});var ve=w($);Q=G(ve,Y),ve.forEach(o),pt=B(Gt),Z=g(Gt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(Z)!=="svelte-aqr4dt"&&(Z.innerHTML=T),Gt.forEach(o),J=B(zt),K=g(zt,"BUTTON",{class:!0});var Jt=w(K);Mt=g(Jt,"DIV",{class:!0});var pe=w(Mt);Ut=G(pe,St),pe.forEach(o),Nt=B(Jt),_t=g(Jt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(_t)!=="svelte-1n7zye"&&(_t.innerHTML=$t),Jt.forEach(o),zt.forEach(o),me.forEach(o),this.h()},h(){n(m,"class","text-lg mr-2 font-semibold self-center"),n(L,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),n(i,"class","flex justify-start items-center"),n(_,"class","mb-3"),n(C,"class","self-center ml-1 mr-3"),n(U,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),n(U,"placeholder",nt=e[11].t("Search Documents")),n(S,"class","flex flex-1"),n(k,"class","flex w-full space-x-2"),n(F,"class","dark:border-gray-850 my-2.5"),n(z,"class","my-3 mb-5"),n(ut,"class","text-gray-500 text-xs mt-1 mb-2"),n(D,"id","documents-import-input"),n(D,"type","file"),n(D,"accept",".json"),D.hidden=!0,n($,"class","self-center mr-2 font-medium"),n(Z,"class","self-center"),n(M,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(Mt,"class","self-center mr-2 font-medium"),n(_t,"class","self-center"),n(K,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(h,"class","flex space-x-2"),n(R,"class","flex justify-end w-full mb-2")},m(v,I){j(v,l,I),st&&st.m(v,I),j(v,s,I),gt.m(v,I),j(v,c,I),It(r,v,I),j(v,d,I),j(v,_,I),a(_,i),a(i,m),a(m,y),a(i,x),a(i,H),a(H,L),j(v,A,I),j(v,k,I),a(k,S),a(S,C),a(S,q),a(S,U),jt(U,e[0]),j(v,tt,I),j(v,F,I),j(v,ct,I),at&&at.m(v,I),j(v,rt,I),j(v,z,I);for(let yt=0;yt<lt.length;yt+=1)lt[yt]&&lt[yt].m(z,null);j(v,W,I),j(v,ut,I),a(ut,ft),a(ut,O),j(v,P,I),j(v,R,I),a(R,h),a(h,D),e[29](D),a(h,E),a(h,M),a(M,$),a($,Q),a(M,pt),a(M,Z),a(h,J),a(h,K),a(K,Mt),a(Mt,Ut),a(K,Nt),a(K,_t),wt=!0,Bt||(Ot=[ht(L,"click",e[20]),ht(U,"input",e[21]),ht(D,"change",e[30]),ht(D,"change",e[31]),ht(M,"click",e[32]),ht(K,"click",e[33])],Bt=!0)},p(v,I){(!wt||I[0]&6144)&&t!==(t=`
		`+v[11].t("Documents")+" | "+v[12]+`
	`)&&(re.title=t),v[9]?st?(st.p(v,I),I[0]&512&&ot(st,1)):(st=ye(v),st.c(),ot(st,1),st.m(s.parentNode,s)):st&&(Wt(),mt(st,1,1,()=>{st=null}),Yt()),I[0]&256&&Qt(f,f=v[8])?(Wt(),mt(gt,1,1,ue),Yt(),gt=xe(v),gt.c(),ot(gt,1),gt.m(c.parentNode,c)):gt.p(v,I);const yt={};if(!u&&I[0]&64&&(u=!0,yt.show=v[6],Kt(()=>u=!1)),r.$set(yt),(!wt||I[0]&2048)&&b!==(b=v[11].t("Documents")+"")&&it(y,b),(!wt||I[0]&2048&&nt!==(nt=v[11].t("Search Documents")))&&n(U,"placeholder",nt),I[0]&1&&U.value!==v[0]&&jt(U,v[0]),v[5].length>0?at?(at.p(v,I),I[0]&32&&ot(at,1)):(at=De(v),at.c(),ot(at,1),at.m(rt.parentNode,rt)):at&&(Wt(),mt(at,1,1,()=>{at=null}),Yt()),I[0]&66944){kt=Zt(v[10]);let dt;for(dt=0;dt<kt.length;dt+=1){const Rt=be(v,kt,dt);lt[dt]?(lt[dt].p(Rt,I),ot(lt[dt],1)):(lt[dt]=Te(Rt),lt[dt].c(),ot(lt[dt],1),lt[dt].m(z,null))}for(Wt(),dt=kt.length;dt<lt.length;dt+=1)ze(dt);Yt()}(!wt||I[0]&2048)&&et!==(et=v[11].t("Use '#' in the prompt input to load and select your documents.")+"")&&it(O,et),(!wt||I[0]&2048)&&Y!==(Y=v[11].t("Import Documents Mapping")+"")&&it(Q,Y),(!wt||I[0]&2048)&&St!==(St=v[11].t("Export Documents Mapping")+"")&&it(Ut,St)},i(v){if(!wt){ot(st),ot(gt),ot(r.$$.fragment,v),ot(at);for(let I=0;I<kt.length;I+=1)ot(lt[I]);wt=!0}},o(v){mt(st),mt(gt),mt(r.$$.fragment,v),mt(at),lt=lt.filter(Boolean);for(let I=0;I<lt.length;I+=1)mt(lt[I]);wt=!1},d(v){v&&(o(l),o(s),o(c),o(d),o(_),o(A),o(k),o(tt),o(F),o(ct),o(rt),o(z),o(W),o(ut),o(P),o(R)),st&&st.d(v),gt.d(v),Vt(r,v),at&&at.d(v),Ne(lt,v),e[29](null),Bt=!1,te(Ot)}}}const ul=e=>(e==null?void 0:e.selected)==="checked",Ie=e=>(e==null?void 0:e.selected)==="checked",Ve=e=>(e==null?void 0:e.selected)==="checked",Me=e=>(e==null?void 0:e.selected)==="checked",Le=e=>(e==null?void 0:e.selected)==="checked";function fl(e,t,l){let s,f,c,r;Pt(e,bt,h=>l(2,s=h)),Pt(e,qe,h=>l(12,c=h)),Pt(e,Re,h=>l(13,r=h));const{saveAs:u}=Fe,d=ie("i18n");Pt(e,d,h=>l(11,f=h));let _="",i="",m,b=[],y=!1,x=!1,H,L="",V=!1;const A=async h=>{await we(localStorage.token,h),await bt.set(await Lt(localStorage.token))},k=async h=>{await Promise.all(h.map(async D=>await we(localStorage.token,D.name))),await bt.set(await Lt(localStorage.token))},S=async h=>{const D=await Ce(localStorage.token,"",h).catch(E=>(xt.error(E),null));D&&(await oe(localStorage.token,D.collection_name,D.filename,Ue(D.filename),D.filename).catch(E=>(xt.error(E),null)),await bt.set(await Lt(localStorage.token)))};ce(()=>{bt.subscribe($=>{l(5,b=$.reduce((Y,Q,pt,Z)=>{var T;return[...new Set([...Y,...(((T=Q==null?void 0:Q.content)==null?void 0:T.tags)??[]).map(J=>J.name)])]},[]))});const h=document.querySelector("body"),D=$=>{$.preventDefault(),l(9,V=!0)},E=()=>{l(9,V=!1)},M=async $=>{var Y,Q;if($.preventDefault(),(Y=$.dataTransfer)!=null&&Y.files){let pt=new FileReader;pt.onload=T=>{files=[...files,{type:"image",url:`${T.target.result}`}]};const Z=(Q=$.dataTransfer)==null?void 0:Q.files;if(Z&&Z.length>0)for(const T of Z)console.log(T,T.name.split(".").at(-1)),Be.includes(T.type)||He.includes(T.name.split(".").at(-1))||xt.error(`Unknown File Type '${T.type}', but accepting and treating as plain text`),S(T);else xt.error(f.t("File not found."))}l(9,V=!1)};return h==null||h.addEventListener("dragover",D),h==null||h.addEventListener("drop",M),h==null||h.addEventListener("dragleave",E),()=>{h==null||h.removeEventListener("dragover",D),h==null||h.removeEventListener("drop",M),h==null||h.removeEventListener("dragleave",E)}});let C;function vt(h){x=h,l(7,x)}function q(h){y=h,l(6,y)}const U=()=>{l(6,y=!0)};function nt(){i=this.value,l(0,i)}const tt=h=>{h.detail==="checked"?l(10,C=C.map(D=>({...D,selected:"checked"}))):h.detail==="unchecked"&&l(10,C=C.map(D=>({...D,selected:"unchecked"})))},F=async()=>{l(1,L="")},ct=async h=>{l(1,L=h)},rt=async()=>{k(C.filter(h=>h.selected==="checked"))},z=async(h,D)=>{D.stopPropagation(),l(7,x=!x),l(8,H=h)},W=(h,D)=>{D.stopPropagation(),A(h.name)},ut=(h,D,E)=>{(h==null?void 0:h.selected)==="checked"?l(10,D[E].selected="unchecked",C):l(10,D[E].selected="checked",C)};function ft(h){Ft[h?"unshift":"push"](()=>{m=h,l(4,m)})}function et(){_=this.files,l(3,_)}const O=()=>{console.log(_);const h=new FileReader;h.onload=async D=>{const E=JSON.parse(D.target.result);console.log(E);for(const M of E)await oe(localStorage.token,M.collection_name,M.filename,M.name,M.title).catch($=>(xt.error($),null));await bt.set(await Lt(localStorage.token))},h.readAsText(_[0])},P=()=>{m.click()},R=async()=>{let h=new Blob([JSON.stringify(s)],{type:"application/json"});u(h,`documents-mapping-export-${Date.now()}.json`)};return e.$$.update=()=>{e.$$.dirty[0]&7&&l(10,C=s.filter(h=>{var D;return(L===""||(((D=h==null?void 0:h.content)==null?void 0:D.tags)??[]).map(E=>E.name).includes(L))&&(i===""||h.name.includes(i))}))},[i,L,s,_,m,b,y,x,H,V,C,f,c,r,u,d,A,k,vt,q,U,nt,tt,F,ct,rt,z,W,ut,ft,et,O,P,R]}class dl extends ee{constructor(t){super(),le(this,t,fl,cl,Qt,{},null,[-1,-1])}}function hl(e){let t,l;return t=new dl({}),{c(){Et(t.$$.fragment)},l(s){Tt(t.$$.fragment,s)},m(s,f){It(t,s,f),l=!0},p:ue,i(s){l||(ot(t.$$.fragment,s),l=!0)},o(s){mt(t.$$.fragment,s),l=!1},d(s){Vt(t,s)}}}class Ml extends ee{constructor(t){super(),le(this,t,null,hl,Qt,{})}}export{Ml as component};
//# sourceMappingURL=10.24ae2e57.js.map
